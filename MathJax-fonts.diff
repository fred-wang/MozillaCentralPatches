# HG changeset patch
# Parent 526ce0fb6442a30d64e9969e5a473a5d11e01ceb
# User Frédéric Wang <fred.wang@free.fr>
Bug 732834 - Using MathJax fonts in mathematical text. r=karlt.

diff --git a/layout/mathml/mathml.css b/layout/mathml/mathml.css
--- a/layout/mathml/mathml.css
+++ b/layout/mathml/mathml.css
@@ -49,17 +49,17 @@
 /**************************************************************************/
 
 math {
   direction: ltr;
   unicode-bidi: embed;
   display: inline;
   font-size: inherit;
   font-style: normal;
-  font-family: STIXGeneral, DejaVu Serif, DejaVu Sans, Cambria, Cambria Math, Times, Lucida Sans Unicode, OpenSymbol, Standard Symbols L, serif;
+  font-family: MathJax_Main, STIXGeneral, DejaVu Serif, DejaVu Sans, Cambria, Cambria Math, Times, Lucida Sans Unicode, OpenSymbol, Standard Symbols L, serif;
   text-rendering: optimizeLegibility;
   -moz-float-edge: margin-box;
 }
 math[mode="display"], math[display="block"] {
   display: block;
   text-align: -moz-center;
 }
 math[display="inline"] {
@@ -151,52 +151,66 @@ math[display="inline"] {
    The meaning of mathvariant=normal is unclear as there is no interpretation
    that "corresponds to SMP Math Alphanumeric Symbol characters"
    (http://www.w3.org/TR/2003/REC-MathML2-20031021/chapter3.html#presm.commatt),
    but let's assume an explicit mathvariant=normal is an attempt to reset all
    style.
 */
 [mathvariant] { /* shared and same as [mathvariant="normal"] */
   /* reset all font properties except those that affect the size */
+  font-family: MathJax_Main, STIXGeneral, DejaVu Serif, DejaVu Sans, Cambria, Cambria Math, Times, Lucida Sans Unicode, OpenSymbol, Standard Symbols L, serif;
   font-style: normal;
   font-variant: normal;
   font-weight: normal;
 }
-[mathvariant="bold-fraktur"], 
+[mathvariant="bold-fraktur"] {
+  font-weight: bold;
+  font-family: MathJax_Fraktur, STIXGeneral, DejaVu Serif, DejaVu Sans, Cambria, Cambria Math, Times, Lucida Sans Unicode, OpenSymbol, Standard Symbols L, serif;
+}
 [mathvariant="bold-script"] {
   font-weight: bold;
+  font-family: MathJax_Script, STIXGeneral, DejaVu Serif, DejaVu Sans, Cambria, Cambria Math, Times, Lucida Sans Unicode, OpenSymbol, Standard Symbols L, serif;
 }
 [mathvariant="bold"] {
   font-weight: bold;
 }
 [mathvariant="italic"] { 
   font-style: italic;
 }
 [mathvariant="bold-italic"] {
   font-weight: bold;
   font-style: italic;
 }
 [mathvariant="sans-serif"] {
-  font-family: sans-serif;
+  font-family: MathJax_SansSerif, sans-serif;
 }
 [mathvariant="bold-sans-serif"] {
   font-weight: bold;
-  font-family: sans-serif;
+  font-family: MathJax_SansSerif, sans-serif;
 }
 [mathvariant="sans-serif-italic"] {
-  font-family: sans-serif;
+  font-family: MathJax_SansSerif, sans-serif;
   font-style: italic;
 }
 [mathvariant="sans-serif-bold-italic"] {
-  font-family: sans-serif;
+  font-family: MathJax_SansSerif, sans-serif;
   font-weight: bold;
   font-style: italic;
 }
 [mathvariant="monospace"] {
-  font-family: monospace;
+  font-family: MathJax_Typewriter, monospace;
+}
+[mathvariant="double-struck"] {
+  font-family: MathJax_AMS, STIXGeneral, DejaVu Serif, DejaVu Sans, Cambria, Cambria Math, Times, Lucida Sans Unicode, OpenSymbol, Standard Symbols L, serif;
+}
+[mathvariant="script"] {
+  font-family: MathJax_Script, STIXGeneral, DejaVu Serif, DejaVu Sans, Cambria, Cambria Math, Times, Lucida Sans Unicode, OpenSymbol, Standard Symbols L, serif;
+}
+[mathvariant="fraktur"] {
+  font-style: MathJax_Fraktur, STIXGeneral, DejaVu Serif, DejaVu Sans, Cambria, Cambria Math, Times, Lucida Sans Unicode, OpenSymbol, Standard Symbols L, serif;
 }
 
 /**************************************************************************/
 /* tags with generated content                                            */
 /**************************************************************************/
 
 ms {
   display: inline;
