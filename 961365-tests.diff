# HG changeset patch
# Parent ff9a4b3723e646f56e1b7595f425da0d9248ab4c
# User Frédéric Wang <fred.wang@free.fr>
Part 6 - Reftests. r=karl, b=961365

diff --git a/layout/reftests/fonts/math/axis-height-1.otf b/layout/reftests/fonts/math/axis-height-1.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..97a499bdcbd61ceae839635b27398409cbb617e3
GIT binary patch
literal 2000
zc%0Q$PiPcZ82`PQ*+~=EO_XS3x(#z!)1+nB$;OCSg-Xg&)HF&%5ESf?uGy7rW|?f;
z=qVCB?V;#J+Dk!tG@>AaQWg&$M3jJ+_E=A%E##u^68}tpZ{{W0H4P-kzTwUH`~H9L
zy>H$OkBkgs6K0^p9?WE{6VK-_1CiqZYMIQ)(3!%*Bw!vTA0Ik6@|9-BJ|{l`h~vZG
z>`HIB(SCv0qW;^lf>Xp{{Sl!5L)oER*7;71U%W}(@0@#b6qrAnI`Iq6M6OVpZs{OG
z(>=bT1!uYlU8WLJYEC+ZZ0GeqACsQ}v@=C_s^rh2pY`pf-hz;(K<0}Fk59Gke~C?o
z42JoR?%{fB>@aqad;ksMppPb*lLqtnPpK7X9IWwZ@P=VT#S28}@w4`j{7)ejf1_VC
z%Q(S$mgBxR?y}0y!dzOIe#OR8D~RFRva}mtD=e@X7Zui6`wfM4^oXd!1~!Xh3P;c;
z&MRzEevOvGV1+mmcu6eKiSHHG(1u?X*16a_3LEGY0}4lAiBk%jlwZOiToiE@9`YDR
z4kfOk2V>|ZO~XbXb`uTJ>KrX5_&DUHmq$POcIcBQVpk2i#j{?1JXf-M#(J%^-M8Bs
za?j-_CLC+f^@^_Nl=3d^98A+?3P~o+E+<Yh8Jy|-R5F*9L6T%w=~q;lAZIC{9!;`A
z#VOWoVISw(NkaVqaXOgcDv@y~OBvT2&syn}ZSAufN+CaxOef`<Hd6m6^&Tz54YHU@
zCQAiW7K+iVH^n`%Y`ZUI+qSil;Hs~K8CRY1r99n$H+YV+a}4sD>{{OsdX&_E;{UPI
zx5E6dMsFN-dTnj1|MgH`y+0%Gqt!$3;(!n$)_4d)qvmj}6}68<Ew0r*)@vUcT~D;%
z{HWe_?1~>Xx?0fu!|1MZc^O2T%H_qm#koivH(TRCTO7By#L*nb!dB=q;3w?IgX{a6
z8p>JKAOcb7LL_$DZ+gp>>TE?+D%JZHy|TTQsy=&@GApldZL7{!@4udHip5@)4O!Q_
zxu)3S)%L~SZRKbS)ZsroaAjW7hPzm5TJV=h@xIw_Zgj^VDf;O;Y=2=Hr`KWEAKC_V
z3D?DFkoVWkI)A|<d3%TW0B`B-qzTfcJ6t}ETq4-yt>{44npK6C?X*Y)C>F#GrAxH#
Mk)N3SlgYo|zW{3u1^@s6

diff --git a/layout/reftests/fonts/math/axis-height-2.otf b/layout/reftests/fonts/math/axis-height-2.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..73f2237cdd6442f76e5ba2c218e7a98978573b1c
GIT binary patch
literal 2000
zc%0Q$PiPcZ82`PQ*@=nkCQ7tXx64qrnkc(YHl~QggG826O=D;X9t0iIHM^3{ER$^;
zJ*9-6_E7Al)Qcb<ji887DN7F?JSe#o1W)xO(tsE1F41=SdowSaU1J~~`-V5)@B9C~
z_r7^EIzB#%t(b=ndpMi5&Mq(g3`EWVsAsd|BNvM=X8`jw`S{53@y|8${C@J&fH*Vy
z)uGJx+uc79ThyPQEIK8e)E@)-GG$-nbI#Xd>dIZ}e&hTsPl5TJsT05AOy-N_xsDzp
zv_0S}T6E@0&}AwirRI!N%q8wT{e%2Gpj|Avvt@q)1FY`|^%jIQ1%{4%^7>ro(BIf<
z$Y5CN**Drujorp>k}c2>4*F=4IcqSF|D0NZ*1;N22X7cgRJ=lj9=~Xh$p08p@fQX}
zyNna8rxEv^@jI(L80ON#^lLVjT0soA8q$6EQelB@xT3Je+HWhYqgO-~Hn2^MDI7tU
z_+DX?@>{eN1}ns=z)NC*J@`gp4PCgVu+GKaSJ=QFF{p3^mN=)dN%>D0hKmv|!9xL4
z$fL|P^kNcyq#4-g$6=xoT3x2aG#`h&^z!H@-wu5WMC__zw{*!XOy$c~?_{5qvHK5O
zBktwG^t59QyI#rloN~dXor5{L%p%2vxklm?6T+D*%%<`=86-t^oqkP~4RV$P>d_<@
zRGenb7LIamoFvo_1~}DNC9>{JIqP~;IV+R4t)o^;DdY!JnUq}9htxkoy+_M%gDj?!
z$<hIpg<>M-&2mpH+wM=>wrzb#aMjnrjH^yLAx}5p4W6Uy9D}?jyVm!E9wqgk`A^pR
zR+#T=^w!a&*EY8LUk~-w`}6WXT0aCY4hSJ)t%o2qYEITWQQs@-ajpKbUjN8QJkxIY
zQ9Uts-H#fH4zzzeai~&hfM{E#va-0c7>VO<XB_B?<JawRw8!ys2Xq;5Kl}0c=Dwzu
za@IA7Koq(V$xrRKeU)l$p(?7?+QX_|-BnN5Uc614)i?Kc))s0H-z>DnVy`QPtn1&!
zw%E$e?v=ism1qal;XgWdeM!=myI5*E@TW-gz8NyrPK_;Za>pMldSDZ_S6Rk|P1p^D
zwgFwmO)*;J15LBZU+_r&xleqIxAZR3B<boME}vE|8Eo<n^dPZeRiR}!Es_C>1#v^^
PDs6h?Cno=7^6&Q_=jsjx

diff --git a/layout/reftests/fonts/math/fraction-1.otf b/layout/reftests/fonts/math/fraction-1.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..d5dddba4d3355fa00c4270f0cbea4c88b284dd50
GIT binary patch
literal 1908
zc%0o;OK1~882)B=vu)Fu))F;ntb^7^g{Iq7J!m~>Wf8Ha#Zp9ktubvPO*d?#R8NH-
zqX-@ZA1CpqD1vwp37$MD-t=gDQc>_yX<E_v&+ep6q++}}o0<RnpYzSm>?A%o7)K)}
zp~C1jO@9Byfe(N$4B)+K4)&eTd>tdbNP47i-{3(-KXn|?LjXG#KiU~v`8afiFem?+
zM8?Wuh58aupO9^TDruejapdZ4@;#@%D@6w7q`r>uEcLcjCO1)U5JKH34fPpoA`7LT
zAQSWJV^${Fx%TY_(kB6>D{GJEN>kVYXo3$16QRKM3-O85O+DYxsEJ~D6W$W9l(N-B
zk%)2>p`6gdOO~oe&VF}<riIxoe5Bk|UXgyylk79PS%V1C8y2&EuL8UvmfV|5@upvj
z;c^8*JY2MH!4ZiW{K!kJkh~?aip}^au?9bDlh}u5HXyN1_6dq)n&5WW%@UX)gbNZ2
zIyWR%aR_%L)(~PriGAR#Q(~R$XVD8ASzLmHG)9m@j@GaZ3AB@p!9W-74o4qFU8aap
zdMwgKmP2`Bv?wP{h)z|noxS9wM^ZVyEz!<nM%NDBXJ1Z_j#|9ecCxl(<<d6A4ZCTH
z#l#Mp2E&e(5bh4b-p_QMIafNwF6nZL5-X0~)R!ycd3F+xx!qd<OnWS6+RjLl$D#(`
z&6g%4WoJjMLy)b3*btF$FfQGk%8Lo2t`xK|lyt@^mK#P_)G!QQLrr-KydIG|-XnI&
z)iqI;M$OfEspO5NnerK9`f>-gy8X@nA2ihyrAc&SnFTZY@WB{sta$ZIe20gNO(?Eo
z#fVZ|uNK#6R|2ecM!8oCsI3EcO98FbkA{mwo%#GC2-M}N`677G6aktec(gKt`Uu{&
zKou3Y(hl#b?ORwPQ+*;B6vj4g$`|IQ3an6=pDw6{)eGj_r=O-?`2KX&+|>N^_o=#I
zaN$8HzbYT_qrB!<d+)vxvg*zh9zUj8lrF&@{a@egYbm$a5POSg4A)+I;LGwg+&%36
z4R=?>5N7o9e>@|+m;MP>lWZedzH7x(t%-XzfEI+&`bRomWQZc#ToiQcde*Y6c*MVr
G=)V9}U+fP6

diff --git a/layout/reftests/fonts/math/fraction-2.otf b/layout/reftests/fonts/math/fraction-2.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..44642413822d686bfafe086074e57eddd7393e54
GIT binary patch
literal 1908
zc%0o;OK1~882)B=vu)FuYKa<gErZ7TfTY`0MYJBYxQJL=u@n!At}$&QO*d?#R8NH-
zqv$~dA1CpqD1vwp33~CQc+{KiP4VDGX{>1cXLp*1RIFELGxLA{bH3S`oeT^O4WJcM
zP+|627Qgpm{|6ut1@PXohWgLuK97@LCf(@YJ9I$Ncisi`2*8dF9PLW3coexrn3Mlh
zDre`hOnnKckIA+#leW+NIDGjQ`JPeVks*U}LSIYx3-wqgSD0)z3886>hUT0-nTIk+
zkcs*AaXXhbjdwB9rvRlp?@Sab)7S=Rf)581p}<w=+Pjl&y<gF)iDGyY?Hs6=vNc1I
zh;kI69M_^XOG6{)pf^I(qU;L-q})(mk$%OO>=SxeiwMzMs#(8R0iF{}?$4$8)7N6S
zTtOHQs@6^%mY5-kqQnZxn-Z(ohz}BL2(p;O0W4=nB-Y73Ns&ww+zxqJ0y9K#PGUjl
zy2L6D;<m&ZA}lO%0GxG6tdspT`rsgs3viLeC^9I}8a5+^EhLjL(M`L<(N9qqDPoKs
zn{<)oQl1!X%E=O<Q`P6>FSyy!Oo4AsZQ)6?dmHa}E@sEZY~JU%dB?R2S%>0AytGs`
zF-}uq#I;kx9VhJnEYDf+q)Y759;XDc;@Cxfu`<4AyNBb|6~J=F3zp-Krg<`9@?E?(
z87bT2$+#f91Y*NP!o`Gib1E+;NO)4v!f@K1pjd92-3ik)`4Vc%Q{Z<)?s%`*B~RBx
zSsFD@=aq^-R%RE@7}FO!sEzG!{{Nt<zNk#02a7D2(T5MlSZm#@XW~0NRBl6gEh`&J
zd7WBbtz8PSj#=eyC8Ty7xl;*g9YM65AMPp^t02@=q!uu6zs&%a8+f?FK(m3j?NCL<
zO>`u7FYQ~Xk!d^;3<_iGHxx^A(<N3aeVZw%rB(CR+{d4mUi$uI<=phQneWq0;qd(Z
zNO5H`6vV=sU+uZ`M#zRcQ+R@yVF|hfd-Z>Pv#+Jxx`f!9L}TRdVVxiSSZz%$ufB%2
zhdsaHp1K&qj9&har-b*=Kfx-JF_H^+t#}$Waj%BZjwm|*NXw6mP(;i_VXv-lU66H;
I__q=L7vxFq4FCWD

diff --git a/layout/reftests/fonts/math/fraction-3.otf b/layout/reftests/fonts/math/fraction-3.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..f0eb69023b6c3ba6b9f7d3abb497b983661de0d6
GIT binary patch
literal 1908
zc%0o;OH30%82)B=yFjT0P1PD|Gf{kCLfIBIM)9B|8)HNu65>IlYb~^fvdvNra3bMY
zA2$=xlkuj}m>3VnG{%D`j7JkM!cF4Ai-wBP`p@nFtzxWKXFKzM|8u^Xot^d$4D_NA
zQ&3@an<l^i(p&(1VF2$<bD-x^_R}coCDJ23M+S~5`hk0Z9s=0u-cuck^^ZeW33KwF
zPiCzg)~T-m^$FRIrc>6%?<cR_Cf{@F`_p7l&gw0MKT~f_XY=Fr1|igq&`_VX#&b~m
z2r@ChK5AuC@#woY(x(6=p0mgD<!S5%G{J|1iBRBr=KAcprmin&)I>473GeK!l(N-B
zk%)2>p`6jetCp%p&OUd9riIyO_(-{>%#wb?lk6ipS%V1C8&<M@tpdCtmfV|5@upvm
z;c^8*JY2Ev#7T)6{3uAQkercN#SVOsSc9LnO6)^3>z7z3`#421O>jHmW(mv?!exmC
zotqM?IF36KYY4HR#6ED=A+b*O3+RT8946o(gJGnRr#0+G5^W?CFc7D=!_h-glN2#R
zk43u3awt!X7Ug6J(W&aTa}!QxIGyLalWja<#P{+ZdonXJV)1U<$=QyT&)5_<<fbK8
z65G*9M#oADcROM4XS&Y3D;;8&ayi9_6~{s9YnAal`v@o8?yUf(J(@RdXE?<ZF@qoE
ztCNwkuRYN&$ksq?kVrTflWtDs#RM@|3R)OUIb#&d4I>^i41?EDQ=S5^N8}st5^u@X
zHBpvE&DD9i?2YC5<uk_gwGL`^`<wqiXsRd5Q(}LAUofK&AB?faimhkjJ3LWpLaBw7
zB1&niTH35#4Y26Ea<3dvqy2Zw0WIoB!<E5~LSY32>I&3+5j<#$0L>9RS|34u1aCJ$
z6%}{UkvLS_x3Eg4`b01&jBVRqC@xMHS+V$auBa9_Et!i8KTN&&?ditF>92F&rt5;i
zr3azH#zMf4<u%V9zWYYVsykD7{Fq}gx&*uQf8E*FQtqiCc7|vS)mWEewJmf-E_k@o
z?!Lp$UvOtd3}Hr_|NR-^!}L$EiDWCu<-1lq)tb0h1K5BtqJL!MMTRJ%)kQ(Ku4i4A
K6_5D05&b8%S?&!0

diff --git a/layout/reftests/fonts/math/fraction-4.otf b/layout/reftests/fonts/math/fraction-4.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..4e5b635c8801414df82b3f0cb8d119eba6ce76bb
GIT binary patch
literal 1908
zc%0o;OH30%82)B=yFjT$Nx>RxGf{kCLRkuWP&_EfY6yr#LOf`6t%cT5wppq{Pb3_R
z@n+)VM7&8fCdPx&#>B*v#-kS#@#f>;1w++n{bzTeEn>v0vz__B|2g06%uWY}h6YfN
zDX1`dOq1VvcK9RU3j=s-nnV5PGoQyvFOnYVKR9$m(W5><4*~4N!14C@hWnuz!kqkP
z5*aItb?S3KeL%KDsibx8$I&Y{$@iH0-V_;>Q~GAY3)EXuncQTpK?pTtG}LCS$t;v(
z1eus$AGb2eIDZo(eF{)Ivi3x-G>tAm6MQ(B2nA*mPkx?m=>CFwO%%hc@Q#5>DO)WR
zi6}=A%1JF;wp2B89&<-%T9_?>)~sAtUXXs(lk5{ZS)B;c>z1=tRso(8OYY63c+;0-
zxLiRHcbBa@a8zOjKk^bQByUKpVmsbTtijJ(B=%uF8<bcl`y@p&O>paTvjk=c;ey11
z&NYcu^x~Gp8bT~6u@9WJORSUqEP7xgi%W2j#wb$A(HeFkfmV`n80etg;pnHR%M>w2
zk43u3awt!X7UiS~(W&aOvzMIoXe!5dC0cph=;-48_T}{0n8kZ+Cu=)aE^SlXh?|yJ
zPHYoLV8pQ!!reyL`<bpY=SqjzC0$N2V#TqK`f6o7&mO{Yw|gsqX^-bj+Zj#rc+BAY
zczH5X_O!*@1lctZ8zvGCCZwBFc`-rEm4X(Alg<Ria>M9|8HT~vP*a`)uSevLcZ*$e
zbxo9|QFC=(DtTk+-O?Fj`f3NYy8X@nA2ihyr73h`l?5~U@WB|XuXy!Le20C-1{625
zVniu!QHvY3nE;EvQ*M_6YIJb66wso6)Lk5I&*zsxpe9ev7r|UZ1Xv%zy$uo6M)0~3
zs;Ib=j>P`8eG6qW)hB{MVQlNRd|`3AzzT)0^98lg{LNha@YB=_-yb$DPJf;MK3x+G
zewz#BoALoame%~@!0am_tL{wU@nfFF=o0MK|MktjlydhPVs8+Qk>AaM-qmBZO=VnZ
zclWS!1@5efA<XFI|9C|B0R0m*lWZZmbk~ZfS`+tb0F4ME`bYL&WQZbKToiQcde$Xb
K@rZvL(SHHbp6w0*

diff --git a/layout/reftests/fonts/math/fraction-5.otf b/layout/reftests/fonts/math/fraction-5.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..d6632686c3f74c482e14dc9f3a501bcef1670092
GIT binary patch
literal 1908
zc%0o;OK1~882)B=vu)Fu+7dNl41-p!Lep(xJ!m~>VJXswVksUJU1Qornr_%esh$eG
z8O596<0RfJiXaLi!Gn0J^yp37o8mzbrKzIvpWSJb_`rH~c4z+Yf6h0%v$KOkLxX6<
z6jT^JrpfO<?|l#W!T{cw=1~9H?1ypEOQc8o4-EAxdejH#A%GnlJlYX&eh|7$n3Mlh
zGHd0qMtuRO56N~gowCk+8@O_ld{3$GNs~c2p>HDmiF#`~o1d&V2%&C_hWe~EnS*ke
zAQSWJ<5o76*z!6-`V^pa=In`lc^bO`P4MAhA{4lE;_=6mP2Hc-sEJ~j3vVB+ma^4D
zk%)2>p&Zx36-!Mc=V5n*riIxj(3+L&$}H(uJ;~l9!5Tz}-msGOa~0qjvE<%diZ^{F
zhRYQMac{-C9Rm_G_)(BpA$db$72EJuVhw)QDzOi1*%66#vQJVZ(*(CZH%nlK5Y9;~
z=v<Rn#Ub31SVM>fCH8@{4vBTLpGFUC<ZuBFG8jb~d0ImolGsTy4g;O^b~ySe>LNvq
z(Pfb?vK-12qeVFxLbR)T?A!$>Gn&rxw&YG8H#&Foe*0o(Y|P?4wv)3RE1$6`Zp2MX
zt|Ydji;Rwy6z+Dy-fg<hyel1ImvTA9h!w|P>c1=FdAbP4-R`XbrahiFZD%ya<1vHp
z<(0`u>1vO+3$m*qHcTWOOh`AU@?wIRD+MhKr<@6j<%ZE2GYo^TqNdyhUXRE(-Ywpe
zt81bxjhd_Ta@iZp3(I?q>A%~kwe4^I|DdU!C{KaTmtPmm=)(tNtg-6RGw~hvm6}l6
z#7YsRv{@}}&@Km9bV0dO4ye&1x61)7>PN%*;f_LK1qA8})O-=lG(~{55!`Q%pgw|E
zEl@?p9keC(t?pZ>kg44f3<_ggwib$u(?wP+F3lI!;`%S<;=AvrUi|uK-Qx7p{MYHa
zVDQUKsIaaO@MC$+v-@w)30ZSy3XdQ2EJlZ5xBjnB_NA1&RuOxHXpH>X9XM1Qt8J{{
zYP<Um6F=cZRgCzD(8K@sgz$d)6RaoMN^<$E6<4h$&eZ@~5JvQm^t{LrMYOso=+^bD
M%d+Yce;d(%0Ijm^4gdfE

diff --git a/layout/reftests/fonts/math/fraction-6.otf b/layout/reftests/fonts/math/fraction-6.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..676459ec5a83a835df1030421bfedcca394151fc
GIT binary patch
literal 1908
zc%0o;OK1~882)B=vu)Fuszi-6mO*2EK+|nntJHeX%A(R*#ZWycy2jW<nr_%eX?u`D
zFG4Eb1Rp2yrYM4V5D8xNq<GV#^`<CzQ5qGE|Ljg5DHY?@+06Xk|D11jW+(lLL_g{=
z0To7%Y4SVI_J0C=VE}JUGtqZ0`+1o366uk?-HCmQzWp_zhX8i0|43_m#e>ikVNU*2
z$*h&bGW9v2J|x?objmvO^Wfzh<a<KBGff8Ngx*N_3-xF^n;)$;2%%<(hT5z(nuBtP
zAQSWJ!&Wxc5uM&a`UIe~<?NAsc@iCfCirkL5ei&7dU5Z`hVHMZ*F-VA3ODyJl(N-A
zk%)2>p&Zx3^OlN6&O`19O$)Ox@R4#&c|rOWPqL3_XLTY(ubazSTm^VaEV(zA;!Qsv
z!{rKsxHo5Q#zBc0{3uAQki0Ijij8<Lu?9bjO6<dOc35Ja?4uOPG{LRc%@UX)g!2*$
zI#(rDaR4_Z)(~PriGAR#Rbrj&r_lo&IgG(U27^c=PixqWB({)@!$2GD4o4qFjZ?%B
zJr?OA%b`3mT9lI^M5n69&W$;l!E~N)PHy3GqpgGY+2fg^A&d9ePR@3$e8#4@vu;{)
zF0lojWOS^gaJLZlex~cpyV4<cDVI}>SaEbwU#g7f*+w|-c5ekR?cuy>JA)}6j~Tp+
z&re3mww8E{AX^2o0V3gGM7lYZ7Zb!>DQICJ<&01)H;lHJVHmuMn(`EQJtB9!TkMjn
zYoaWTnyd42*&EC6X3rSYmpZ7G?Qj17psAiHPoN!3ESS-U55`#if>+PPci3BMK&g?H
zB1&nUT3Vw`1z6KN<#susHXXiI4ron&)Lj^8EfnTJpr%007s1_z2(UbY`zs=-jo{5n
zsG{N~Iubjp`xfTORGtV1g|YP;3dNbpA}bcZO&8VT>hI>vhhL^%{PAej%;dM}ACon~
z;P<<s!m2{RkJ&Z9*mdibkQH~P@c1#!Vsr_1>;L*@UrM>PirDK!<7^div`5V!=vc4y
z@ZuV-t$h)0ugquk@_#-iyo>$`R+Eg9oV{zsQ>lr2HGq`}qv?;VyvPtmL|qhg>w4B%
Lx!@81HlqIqkmc<T

diff --git a/layout/reftests/fonts/math/fraction-7.otf b/layout/reftests/fonts/math/fraction-7.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..9daa2cf9202d75315b91bf52501eaf3c84c04f3e
GIT binary patch
literal 1908
zc%0o;Pe>F|9RA+S?5OLurmVH$CXX`Hz;)cs3e!UgLqukhNQa`PZF4tVXBoG!PJ+;7
zi*7;INxBt95FH|xPMwNwb<8>y5nT$m#J1m?dHz{3+OEBs_kQ2+@B7}&n>T~Q!-J^B
z6jT`frpfQUIQ#|hg#o-X&EbIynXlud7fFu{92h>N=zHG)dI(@A29I~f>K}!!5$5DS
zlgL<EY*1eS>SMAUOeL*zi$|~DCf_sads1XjPU%gAzfo^VWpb0%1|d|9(NLYSCbLkE
z5oBV1ecZ|<yIVi>kv;_|U0Hh~SDMCdKofj8m<R=~4o&VmUDx{^wVEh~*WuQ|)l#-<
zC=yYQB9xO_c*RoI$a%~ip=n|E4L(wCDKAOC;Ys!xaaJQj^qS?YwN-%U#FBe+Dc<xe
zF<h=7hzHBoRveX>!H>Me3dtFXRqVh=i8c6Hi^M)`WJ40`WS^u+rU`CG+$@0^Lbxcg
zpmS4V6^C(0Vhte{l-LK(IwjW0eir?(k;P>=NMjT!<Y*0TNT8i$3<kRB?QjfG)D?;t
zqst;)WI2>4MvHRNglJdw+u6%bdNh^eZHaasGrD&30sBgNY|P^Qwv)9TE0?w@?!23p
zSWfJ~UNSmXLby8!d$;L2bFOrVUDD+gB~~0g)YmKHdAbS5-0rOarahiBZD%yeV^M?m
z@Ri9(>F$Vi2(lFr8zB-7CZwBFc`-rMm4X&VlFkIha>M9~8iv6us3~`W*CX<c_lmdV
z>Y6A^qvq<oRPx5s`=vd`^z}AsdHb9HKWM5aN>hkqodq-c@WB|XUG?ah_zsU0>riZB
z#fVbesunkE*8;5hy>hn{P@9KlO98FfkD5y(o%#GS2vp^%`69Sq7Xda#@UT9D>ImL8
zKou2t(w5j?*|)GlrhG>*D2#2}o-fQ#7g(Y2W3HeUHvKf`Km9WG!orir`RN~X3)5A>
z;LrP^d}BV~$I_Z#_RYQ)vh2(h9zW(-ln%jO{a>H#D=BwX5IaLO&Q}l@_k^~^!>ymn
zYq<XS8XParXY}wFpAzn)KfxxFEhLxDT5*+Y;#>`&0bw-%k(C!2qKFn31>L%ybxE$e
I#NS5r-(mIb4gdfE

diff --git a/layout/reftests/fonts/math/fraction-8.otf b/layout/reftests/fonts/math/fraction-8.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..60682b7bbbc1ac5c3f2046a6108090277c8e7657
GIT binary patch
literal 1908
zc%0o;Pe>F|9RA+S?5OLumTa}*CXceRz;#^9qV!P05S3aa(xIqn+uRM;S;j5QlVG<k
zx&>J$2|5%-5FH|xPIWOncFdqd5!9t{HER34nWwueMt1GZy!ZQlf8Y0J-n{AS@9#q`
z#-YOKHckHE_0cbYFAU(FY4-PAN`D<Dy+C@T=V1R~Mc=#^&_e(_)pxQrw(d#jI$=)!
zbMds5!5Z}ypgtwrp=83k@U!>E9rC@P-jO7Oaz<|;{Ed23GMyc*HVC0=h=%I4HJX8P
zoFEhP>%&$$(b4?j5b5K9(w4DDvc(DP1~kEkgNab!+R^)$&enB)N3AA`VJ5u2uUyJj
z4Mif#QG{|@3zsYvjhx5b5t<fe-{2$VwlYonO;57VXlFGdM6X%OT3!WsNi4ZHm*P!d
zis5nvK|ETrZbz@g41VM!R!B}ttYRBJO02=pnk4pNEjuBxPWDlXWSZc1%*_&*A%x2k
z3p%$XR&fM(CDssPL5Y3ftW{#2?B~%98yQ@MgA@jlM3&ajj5v0ZjKM$~y&aAoiW;Mc
zA-XKmMV3Q(VzekHMTmA)x1G7_qz02&-W=b_V@BI<-eZrYhK4NOZ95s;v9c+f;x4*r
z@ukET>?5ON#f7_tuy>oTGwVu+*d<&}QDVihpZZE=JkK7&F}HgwfN2kBP1_kv@L1H~
z`*~?HQuegOS_Iiu5E~#84o0M#Q+Y8#)Rlr31`^H)#d5=FiyDT(S5Z^$0<TBp8}Afv
z$<;McmPXChd9mn?#rKPQjOi<F)XMfZ|9{X_PZY<|jujTn=)(tNthVgYGw~fBE7YOT
zzzPwiuvsl^)UF3u<9p>^F`zb{m?{ReMn7t<47BEQOCV5{qvng?VO<1R8^Pms5mZO;
zwjQdexP!LDfz^ErB{G#ef<a+y%hp_eZX(a}`T5zrn%}Ts&VBl2>iHkf*3V7M&;FRG
z3I-P*hH~q30Y4VkJl!=lBV@&yDLj76vM3#bo%+8%**8+|T1D(6(YUy>D{!PtY4?P-
zsf5dGxVH9XxIB(9qlf?VIpHq)6Ko*aL~`-06<4Ju&eZ_w5k})5*?W;8ifD3C(5>rP
M7iHNc{x+ij27(^!4*&oF

diff --git a/layout/reftests/fonts/math/fraction-9.otf b/layout/reftests/fonts/math/fraction-9.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..7a575d7becd2a67c7985e1f148a209a4519abf48
GIT binary patch
literal 1908
zc%0o;OH30%82)B=yFjT0Ou-r}nJ7LJ%2Gh1;z5b4F(4WV@!)H%h1O8ES*ig~M2^*X
zGx2fJc++T1j0a;HPsRhrqet;#G#<QYC=#vz><+XwsCadDXa4Vh&NsWWv;6}D{iwwx
zR2V&`$?v`F{S5fR0N$GBK;OCa=TXuNq(}Pp3>;AOwc7zb1h8ZMN84fzk3yFTbMl{#
zr>zWDs4oEZG1>Me6V}=9hpyZt-!tmll4MX$=xYdnq27{AXUD4zLZ}*{p*n4iXP_J=
z$i)2msFhA^-}-((>63ucp0UTW#VK?Gn&891L@01+-|ds9>bk$8RujeWI=r#JT*_7r
zMIy>kgmPR9mn;>HoQK^JnighX;3MU_GEMqbPqI(wU^OB{uUX9cwF>Z@SaNSJ#hbnq
z!{rKsc(7>Qh(i)H_>q%XA$db$6&vtDVhw)QBC!wk?1;oV*~cl8X@Xm?n<X$q2<Igh
zbgoIP;vjBGtRcjL68peeo5VWV&!7i3GMIpa6o!#Rme#Ntacm(OgMoH>I~;u!b&(=Q
z=(0!`Sq|li(W0CbA=*_vc4op!4JWgFb9@Vr8SS0C&%T%%8L@be?PP4n%BF0J8*<a)
zi;1n+K}N@l3wJAF?>1d$)|C#iOSqh(#EN4l^`**qo-V>Mw|gsqX^&=2+Zj&qSk&M<
zd1*3Ix>{qcg6uMg4H5|lW75s3yqF;BN<j;Q31^IAxnZ<N4a4Bes3~`W*CX<ccZ;{=
z>Y6A^qvq<oSoFr?yM;Z*^rbdxW&4}|KWM5aij(NT5({SZ;e#<&TlVOg_zrsubttT1
zg@{sEs}@#imjkT%opQGrP@9k3DF(D=KWZ)vw&ik*AW)T~=8NEdT?D9);9)}q)e*c|
z2~||wL|bCl^1g)<naUl(pfI*>eJ(#cm1p_<+)Q50H+?f_KmIWF{QQ%~*{Qji`KhX4
z@Z0@Rt}z$zV`0tHyYIXfvf|7X9zSMSln%je{a>H#D=D`wBlZT-82WQa;2;eh9@bWu
zaCr^a*6|B2k0Z?J;eUThcsKnCnn<>gTsUjRRjG+{HGq`}qxrYgyvPtmw74kf*7d9l
Lvg{In8_|CPT{7$s

diff --git a/layout/reftests/fonts/math/generate.py b/layout/reftests/fonts/math/generate.py
--- a/layout/reftests/fonts/math/generate.py
+++ b/layout/reftests/fonts/math/generate.py
@@ -51,16 +51,25 @@ def saveMathFont(aFont):
     aFont.os2_typodescent = aFont.os2_windescent = em/2
     aFont.hhea_ascent_add = aFont.hhea_descent_add = 0
     aFont.os2_typoascent_add = aFont.os2_typodescent_add = 0
     aFont.os2_winascent_add = aFont.os2_windescent_add = 0
     aFont.os2_use_typo_metrics = True
     aFont.generate(aFont.fontname + ".otf")
     print(" done.")
 
+def createSquareGlyph(aFont, aCodePoint):
+    g = aFont.createChar(aCodePoint)
+    p = g.glyphPen()
+    p.moveTo(0, 0)
+    p.lineTo(em, 0)
+    p.lineTo(em, em)
+    p.lineTo(0, em)
+    p.closePath();
+
 ################################################################################
 # Glyph variants and constructions
 f = newMathFont("stretchy")
 nvariants = 3
 
 # Draw boxes for the size variants and glues
 for i in range(0, nvariants):
     s = em * (i + 1)
@@ -223,8 +232,267 @@ for i in [1, 2, 6, 8, 10]:
     p.lineTo(0, s)
     p.closePath();
     g.width = s
 
 f[largeop[0]].verticalVariants = "L7 L8 L9"
 f[largeop[1]].verticalVariants = "L8"
 
 saveMathFont(f)
+
+################################################################################
+# Testing AxisHeight
+f = newMathFont("axis-height-1")
+f.math.AxisHeight = 0
+createSquareGlyph(f, ord("+"))
+saveMathFont(f)
+
+f = newMathFont("axis-height-2")
+f.math.AxisHeight = 20 * em
+createSquareGlyph(f, ord("+"))
+saveMathFont(f)
+
+################################################################################
+# Testing Fraction Parameters
+f = newMathFont("fraction-1")
+f.math.FractionRuleThickness = 20 * em
+f.math.FractionNumeratorShiftUp = 0
+f.math.FractionNumeratorDisplayStyleShiftUp = 0
+f.math.FractionDenominatorShiftDown = 0
+f.math.FractionNumeratorGapMin = 0
+f.math.FractionDenominatorGapMin = 0
+f.math.FractionNumeratorDisplayStyleShiftUp = 0
+f.math.FractionDenominatorDisplayStyleShiftDown = 0
+f.math.FractionNumeratorDisplayStyleGapMin = 0
+f.math.FractionDenominatorDisplayStyleGapMin = 0
+saveMathFont(f)
+
+f = newMathFont("fraction-2")
+f.math.FractionRuleThickness = 1 * em
+f.math.FractionNumeratorShiftUp = 0
+f.math.FractionDenominatorShiftDown = 0
+f.math.FractionNumeratorGapMin = 9.5 * em
+f.math.FractionDenominatorGapMin = 0
+saveMathFont(f)
+
+f = newMathFont("fraction-3")
+f.math.FractionRuleThickness = 1 * em
+f.math.FractionNumeratorShiftUp = 0
+f.math.FractionDenominatorShiftDown = 0
+f.math.FractionNumeratorGapMin = 0
+f.math.FractionDenominatorGapMin = 9.5 * em
+saveMathFont(f)
+
+f = newMathFont("fraction-4")
+f.math.FractionRuleThickness = 1 * em
+f.math.FractionNumeratorShiftUp = 3 * em
+f.math.FractionDenominatorShiftDown = 0
+f.math.FractionNumeratorGapMin = 0
+f.math.FractionDenominatorGapMin = 0
+saveMathFont(f)
+
+f = newMathFont("fraction-5")
+f.math.FractionRuleThickness = 1 * em
+f.math.FractionNumeratorShiftUp = 0
+f.math.FractionDenominatorShiftDown = 3 * em
+f.math.FractionNumeratorGapMin = 0
+f.math.FractionDenominatorGapMin = 0
+saveMathFont(f)
+
+f = newMathFont("fraction-6")
+f.math.FractionRuleThickness = 1 * em
+f.math.FractionNumeratorDisplayStyleShiftUp = 0
+f.math.FractionDenominatorDisplayStyleShiftDown = 0
+f.math.FractionNumeratorDisplayStyleGapMin = 9.5 * em
+f.math.FractionDenominatorDisplayStyleGapMin = 0
+saveMathFont(f)
+
+f = newMathFont("fraction-7")
+f.math.FractionRuleThickness = 1 * em
+f.math.FractionNumeratorDisplayStyleShiftUp = 0
+f.math.FractionDenominatorDisplayStyleShiftDown = 0
+f.math.FractionNumeratorDisplayStyleGapMin = 0
+f.math.FractionDenominatorDisplayStyleGapMin = 9.5 * em
+saveMathFont(f)
+
+f = newMathFont("fraction-8")
+f.math.FractionRuleThickness = 1 * em
+f.math.FractionNumeratorDisplayStyleShiftUp = 3 * em
+f.math.FractionDenominatorDisplayStyleShiftDown = 0
+f.math.FractionNumeratorDisplayStyleGapMin = 0
+f.math.FractionDenominatorDisplayStyleGapMin = 0
+saveMathFont(f)
+
+f = newMathFont("fraction-9")
+f.math.FractionRuleThickness = 1 * em
+f.math.FractionNumeratorDisplayStyleShiftUp = 0
+f.math.FractionDenominatorDisplayStyleShiftDown = 3 * em
+f.math.FractionNumeratorDisplayStyleGapMin = 0
+f.math.FractionDenominatorDisplayStyleGapMin = 0
+saveMathFont(f)
+
+################################################################################
+# Testing Stack Parameters
+f = newMathFont("stack-1")
+f.math.StackTopShiftUp = 0
+f.math.StackBottomShiftDown = 0
+f.math.StackGapMin = 20 * em
+saveMathFont(f)
+
+f = newMathFont("stack-2")
+f.math.StackTopShiftUp = 3 * em
+f.math.StackBottomShiftDown = 0
+f.math.StackGapMin = 0
+saveMathFont(f)
+
+f = newMathFont("stack-3")
+f.math.StackTopShiftUp = 0
+f.math.StackBottomShiftDown = 3 * em
+f.math.StackGapMin = 0
+saveMathFont(f)
+
+f = newMathFont("stack-4")
+f.math.StackTopDisplayStyleShiftUp = 0
+f.math.StackBottomDisplayStyleShiftDown = 0
+f.math.StackDisplayStyleGapMin = 20 * em
+saveMathFont(f)
+
+f = newMathFont("stack-5")
+f.math.StackTopDisplayStyleShiftUp = 3 * em
+f.math.StackBottomDisplayStyleShiftDown = 0
+f.math.StackDisplayStyleGapMin = 0
+saveMathFont(f)
+
+f = newMathFont("stack-6")
+f.math.StackTopDisplayStyleShiftUp = 0
+f.math.StackBottomDisplayStyleShiftDown = 3 * em
+f.math.StackDisplayStyleGapMin = 0
+saveMathFont(f)
+
+################################################################################
+# Testing Radical Parameters
+f = newMathFont("radical-1")
+f.math.RadicalExtraAscender = 0
+f.math.RadicalRuleThickness = 5 * em
+f.math.RadicalVerticalGap = 0
+createSquareGlyph(f, 0x221a)
+saveMathFont(f)
+
+f = newMathFont("radical-2")
+f.math.RadicalExtraAscender = 7 * em
+f.math.RadicalRuleThickness = 1 * em
+f.math.RadicalVerticalGap = 0
+createSquareGlyph(f, 0x221a)
+saveMathFont(f)
+
+f = newMathFont("radical-3")
+f.math.RadicalExtraAscender = 0
+f.math.RadicalRuleThickness = 1 * em
+f.math.RadicalVerticalGap = 3 * em
+createSquareGlyph(f, 0x221a)
+saveMathFont(f)
+
+f = newMathFont("radical-4")
+f.math.RadicalExtraAscender = 0
+f.math.RadicalRuleThickness = 1 * em
+f.math.RadicalDisplayStyleVerticalGap = 9 * em
+createSquareGlyph(f, 0x221a)
+saveMathFont(f)
+
+f = newMathFont("radical-5")
+f.math.RadicalExtraAscender = 0
+f.math.RadicalRuleThickness = 1 * em
+f.math.RadicalVerticalGap = 0
+f.math.RadicalDegreeBottomRaisePercent = 25
+createSquareGlyph(f, 0x221a)
+saveMathFont(f)
+
+f = newMathFont("radical-6")
+f.math.RadicalKernBeforeDegree = 5 * em
+f.math.RadicalKernAfterDegree = 0
+createSquareGlyph(f, 0x221a)
+saveMathFont(f)
+
+f = newMathFont("radical-7")
+f.math.RadicalKernBeforeDegree = 0
+f.math.RadicalKernAfterDegree = 7 * em
+createSquareGlyph(f, 0x221a)
+saveMathFont(f)
+
+################################################################################
+# Testing Scripts Parameters
+f = newMathFont("scripts-1")
+f.math.SpaceAfterScript = 3 * em
+saveMathFont(f)
+
+f = newMathFont("scripts-2")
+f.math.SuperscriptShiftUp = 7 * em
+saveMathFont(f)
+
+f = newMathFont("scripts-3")
+f.math.SuperscriptShiftUpCramped = 5 * em
+createSquareGlyph(f, 0x221a)
+saveMathFont(f)
+
+f = newMathFont("scripts-4")
+f.math.SubscriptShiftDown = 6 * em
+saveMathFont(f)
+
+f = newMathFont("scripts-5")
+f.math.SubSuperscriptGapMin = 11 * em
+saveMathFont(f)
+
+f = newMathFont("scripts-6")
+f.math.SubSuperscriptGapMin = 11 * em
+f.math.SuperscriptBottomMaxWithSubscript = 3 * em
+saveMathFont(f)
+
+f = newMathFont("scripts-7")
+f.math.SubscriptTopMax = 5 * em
+saveMathFont(f)
+
+f = newMathFont("scripts-8")
+f.math.SuperscriptBottomMin = 9 * em
+saveMathFont(f)
+
+################################################################################
+# Testing Limits Parameters
+f = newMathFont("limits-1")
+f.math.UpperLimitGapMin = 7 * em
+f.math.UpperLimitBaselineRiseMin = 0
+f.math.LowerLimitGapMin = 0
+f.math.LowerLimitBaselineDropMin = 0
+createSquareGlyph(f, 0x2211)
+saveMathFont(f)
+
+f = newMathFont("limits-2")
+f.math.UpperLimitGapMin = 0
+f.math.UpperLimitBaselineRiseMin = 0
+f.math.LowerLimitGapMin = 5 * em
+f.math.LowerLimitBaselineDropMin = 0
+createSquareGlyph(f, 0x2211)
+saveMathFont(f)
+
+f = newMathFont("limits-3")
+f.math.UpperLimitGapMin = 0
+f.math.UpperLimitBaselineRiseMin = 9 * em
+f.math.LowerLimitGapMin = 0
+f.math.LowerLimitBaselineDropMin = 0
+createSquareGlyph(f, 0x2211)
+saveMathFont(f)
+
+f = newMathFont("limits-4")
+f.math.UpperLimitGapMin = 0
+f.math.UpperLimitBaselineRiseMin = 0
+f.math.LowerLimitGapMin = 0
+f.math.LowerLimitBaselineDropMin = 2 * em
+createSquareGlyph(f, 0x2211)
+saveMathFont(f)
+
+f = newMathFont("limits-5")
+f.math.UpperLimitGapMin = 0
+f.math.UpperLimitBaselineRiseMin = 0
+f.math.LowerLimitGapMin = 0
+f.math.LowerLimitBaselineDropMin = 0
+f.math.AccentBaseHeight = 6 * em
+f.math.FlattenedAccentBaseHeight = 3 * em
+createSquareGlyph(f, ord("~"))
+saveMathFont(f)
diff --git a/layout/reftests/fonts/math/limits-1.otf b/layout/reftests/fonts/math/limits-1.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..f54dd297d3cdd2c082684c33f200240e1a856f47
GIT binary patch
literal 1916
zc$~#m&u<e)6#iy+y-AGaBq)SLGS;Yd5kZRCIDjeyEme?Jm8J<Iih4jQCYac*H*3~Q
z3!I|nz`=*MQdOx{rAnwrQuP2Fs><q-0~P%TipYsyhYAU5D+J6pyX)Y9AnB=NzkT0(
z^X8j3J8xzurluya3G>iljb*d)%j(QKK%^7E!)$hH{8Rg%Iod0<6XWkqy|0-&Zv*B4
zAU>Wrx+~NBVDD$dlKsbL>|FU!{}TK4AL;v`kk6eIv)^21-|v*Y1v<<xOkHtPQU%*P
z8zmFaQRX9N=gyX)PZA2{HRp16K6&q_zi7_`+F;qKc+CZj0>&NoO9&MT6e>4Qf6~4G
z5jGi$3^xY0Pqb@e&={oZgodDTjHZlZ2IpzsX0O27#vCX8Ck!Jd9wNdK-)q-te-&tP
zAETm6@%Zam<;B4@JbysG(HqRA1=ByDNro$k<Cj(Mc6=0K!F(@-Sfl<n#5&%@%@7;t
z6n!C%phvtLVw3(8j1&el#E1SUg#~(WCd4Y8uS2XOi|;~gkVgw~1X64Zu}S|V#^9ig
zb8u0_EDG?rh8>u}5OoF?MzEV`oKfc)QQ|L0Ta9u#PCauRQzT+ljXC9WZgIBY$sIF8
zGGmSGmgCO(VyTpqV~$&P+?-c*7+2x|o8qB@VNQWk(Jp$GVWQxl_4zzsyUZ)^XOm_=
z68k7G5(M5o#2H_LypeV0ysYES=4B>r$$hdl4dI^Q%&<!EwaH9#Vwdh<d6Kk>IPGhd
z3a0aJg)5SlHIlY0OTLz^RfoPL!ks;&cEh&~zIV0L25n7MS+l8XO6lg(-w&SGnK1EE
zdB51!>;IpcwtmQlTX;&F^XmS1xd|S02qC&wH$bRUcev4wMnW{UX^o`b*lHw~w4a+X
zJ$d9}GiD^C==ywmSGBqdVjb1$^5XJhB!OSM6F^S_S9%lZO5pxx7>Y2;N_ZOwD`#xm
zukMYVfmTxO)gi<M=t894vQ~zwwfaI$)N1u>HNDo~NZ0SKq|Msnt6S;|^=pq8I^ywv
ztA<MK>0(EG`BLBV(3WZ}ig4qvAGml!={5JJ>WSi(Nb@4xZ~oV}{b#6mvQ#gv6Z-?x
zIJE)J(ID2>E!@Vj#y{F7ZQ}*^<jHTu2Y9>oQ>Um~_pR{n+;%HPiD5GakbGrUL1Z5z
WQa+0Nyn(l++kUE~)mKM-sh$B7FZl=n

diff --git a/layout/reftests/fonts/math/limits-2.otf b/layout/reftests/fonts/math/limits-2.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..4a1757178cd7880ba943b40a58b088e997b77ff7
GIT binary patch
literal 1916
zc$~#mL2MgE6n(S1-XyN&Bvl#`$u*;5ss_pK#%U{5wNRAGLO@6mQN#fWOlo3NZ`N9G
zp)Hq4KJ;KAKtf0$E>s)|;s8A$WN~bzqMmvzBBugHLX`@((zNEy?%Hu$wGAi6p8fCt
z`TxzIoj<d)^YgRVffeYmrgJ%2`(W`IAkq)uRxUR`^N#)3GW8AWiJ9l-pV!Pi7XWh%
z5U<U?x<5O7^Uz6R$?-QA?R@3<=-PEa|AMv`iiP|MvGnnG9Q%>|P>}}nJyTcQ?5U#d
zosN<T=&SG%v-77b(B}w+vYN|zyYTp*UtXoY0%+qEr|Pw9m;#L7I4&WSD{$iEAD7-3
zJn}bo7>W#6#`ezkN@Ls@r|5@<pfN^M%IgN_X<z54z}Chb=lmxOBPMPk!idkb%hW#%
zq_}}8F`#(-^>lf0Yzxm%kb8!MxwK&V&6#Alf;hhETKD4R5DVseF2ow;Cn47H1bzvz
zfqpR(;s}PsvmrKVe~X^NV1{_fk5X7*2&Y1<()lRFI&%0l#0Gh^5Jw=z?hu=_&tV!4
zDmVidB`l!`k89Y6MNCj;VPO&nh-T<@mL6sP^3+w7%Q*GSGp0nus+x8xXWY_K(UbcY
zCuG)|JRoPBv!!x5FQ*;1;<$OQ<j}9o0Gr)I6=_a`a>*`v)ihD?&-r|wFJ0zU@UzJ<
zABn^4_YwrwgFa4o^G42D_HvH9RFK(>B@fHaG=vA!*|bXVp~)<8VwdJ%d6Kk>IO9u|
z3Kj}(l`E2#HJPz2OFopXQ-^*}ggbj&?S`)#eD7+f4eFYzvUXe5l#=bWYd1IROqjT@
zyzgy~8vmb~_Gp)FxA2s<SJeG+e-k|D5JC)eH$bRU_hM@ht%PXp)>=uu^_Y=d)4poQ
z^yDk&+c6^<#lX7@`|I^Ci1pR$>#OUlkp#XSOaMa(d_SDPKms>*!cc@!R>IRbRy}3g
zesyo}40Mv}tqvj1K^G$Rq_r_oZ!~KS(P%U;HuT15E7SaaBV#shU)a^GH80+-^~K}=
z)D4x`-POMM`qv}t6T9lMD8h}ueDwSkCAZw0Y9xwZMTQsQ5%a&k?Vm&W)TU|V{RjAd
z&NSZM2Io}Z>&p)A;n-rI>ghf4f_rl32jZi=T}LTXl%4xl_;+rvmST@#C&rL`U{-<W
Y2t86hiu=5QwIh3es-)FdM}4XO1q<@|2mk;8

diff --git a/layout/reftests/fonts/math/limits-3.otf b/layout/reftests/fonts/math/limits-3.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..b2497b52dad0aa5d2967f5f3f1cee6de84300c63
GIT binary patch
literal 1916
zc$~#mO=ufO6#iy+wYC)@+re>cP{h!xAr4qsOGyYJX;K_SY2(<X#`I8VRaddpYQ18$
z`8^q2$U%psPy#7Er9IZAhqi|jL@$9H5^^u3)TgurS^{Y$Y^UlsyDLXdTE{(gq_^*T
zZ{B?KX6Mc9<n;6;wqXG}tnpk<esp>EWgyZG;889&J@JA4`#kM6+KGu*reD>}>=0m5
z#9NbZ?#uK)Joq88WdFOfcD{0AaQQx<e@5SH#X|mlG57H|?7KlZSfs-|XX=WZk}BHX
z`6!uyt_mM9JAb|ceTq;huQ{K$3-Y(mf26$tXu}n!>a`Y;1&m+VFCkQ@n)v4GJH1E#
zz&1mX;qK7x$xdwy8^cuH&=53^(UkGF!FgKu*(<QIF~=$Y3B!nqM~HC5HSIR-%YhaT
zkQF_O$6wDnFOF~E`2q5U{$MUGnEuI3GF(9%U#)w0<5Y+R^Su;ejrx-i>v$1Ah1fv1
z7zl9$ed1V%P5R$sq%fEvPWq!17U;v75UX^qgjh!oS3_)&M+<QTQtS$`N&gha;h=&G
za8be>itxCGJ($G^bp{s3u%BpxQ5P9e<}XiMjdD3oJ@Xt>B4SmIJCzG=X|CwWJ+mV+
zV~y>X6VAm_xty2dj$3iuyjOA<SLOhl;-QLBwf*IiUGl1<M8QAj^Lf5@nODKjCe3^#
z4pW{c2)qY~Grk0QBj?O}ImewV$V}Rjhh=*j!ULn3QI+7P$;@zKm+oMBlC+9A?Q4|^
zW(sbVE0UHqmbNTQZpzlKLthf%&Yn=a;oAn^yV_}kwx+7A)lxO3bZhzE!zXnnOgvNG
zPq*jw|4&VOe#n+vcuHFf$o^Be;6aBFqGx>rggSMvH+#`ch~_S>nbey*jpVZSMJuK!
z-?-k28ObPm&d%(s)z(3*t5#cCT3L!D@O5tj=u6<+{sejwc(5IYB8;*U4&iw9jBWeX
zy|pvYPO7sygt!D<h}28g+DNV5SgebBy>Y9q*9V*F#;<E>v%dP>j>cl+*6LzcJpO0R
zP>KDu)D>U(a$sd-M=cgbxbe4-UcamKhI>=>MDepo^CCQA{@1sCC)9fbmAbb{?59lQ
z^cFa?L9DOaxPxPZKieT4;|2HR@%O|>dAkm(#Hic%t?=*MPAf%;VLOJ9{MW34$N@&A
Vd=&S218-Y*{8UM+ua5ds{S6tR`3L|2

diff --git a/layout/reftests/fonts/math/limits-4.otf b/layout/reftests/fonts/math/limits-4.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..e5072b6fc203da78ba2f9ea0d1259b44e46a9265
GIT binary patch
literal 1916
zc$~#mL2nyH6#iy+y-8flNvbp?l4}jrts11b8>g*M)k0A!3uw~>5k-|+2~04t!JD<#
zTWEWV6rmn`fJz7n#HoTCK^$5RsIoZbP}E;gXif$70F~O>N&@Da-F0fW(1sIZzkT0(
z^X8j3J8x#EW@e_a4U5oWO=Pq3qf2uy0+DV2_p;fU$@lEv7ie$LPE5W$^NMB;mH=}I
z5T~Zz*q7<Qd+>c?$^N(I>|FWS;OcEa|B}Af3i;eSV*b(<_FbbKEYM+oXzGfak}BBV
zxhR={t}-7nJ9n-OeVR}xuep%3^UwbA^)Iv+0d2VKRJ`UA#sTA3_DcvA3Y<B;{_2~(
zhwo#Xp~!G!XwOu;HinI1s%~fq8pmkLIAd_0=56*0bT;NV?LT1{F>wzOj`&==PW$6P
zi#r$>J&MO)&n7R9cJTZN`CNZ6mljO_a3&e9AdYW0y?byn#De)=46#Q2X^3^~!p|W#
z&@Bc+96_IWDa0oIZ!=OD%n&F1Q3?z6;cSRiI-i7CM;4!j*dUJ<;s~VJ8Df+EX-vRD
z8Ry}mh<Oy?aSeMhhY{)wER114(IlfTFrvg?j<y=*a-4eRIHpL%s+w@h=iTCb!IOLE
zMr6hs+b<`b3&m0?Cnp@Y?6^6v=rFFt0XD@$1*4n*rJ`N*Dx*ZfKkM^(zIK^c-p?k@
zd?XH09wi982Z%Gi1bHLtEO=SRozKfm+LDK4YZ}4>qnS~a;1iRX<-{)C!SW<&6>-|v
zDizG;-3nJEEo&@oS(bbvTdNLzNrXFlOznnm8+`9-rw!Vgs<LKN)s)iB)th%8)|oKz
zSb0C%p4R_AHSOskTW;YgZ7!<&<MAeV&>@8A+1vo3PTlcFFB%Ea*r_#=dgB=*xvG8D
zjOoeOFE?XGGK!uLX7^RAn;_Ozt*$MvEk_dgt~UYnC2+Mrfu02JY=@x;qpXA%aI|vP
zw*Bhf+8Jmi)m|M!T!bz}YPYp9QmxgOYNA%FuhjI~U?W}sZ6j^g*1z9TU#hRHFLlM^
z52}Vr?62jn_}VuEYa=_Vu_(fgzkcNM4W&EoP1O^{Es^F$c-Z`}Z~LcEKi}!@9{Y#b
zFPO%=Ti_fIVtw7hZ5$o`@iu82FSsXv{y=<$x9cEvin?{*3jfY+w^EcCwqpp%f6Xe0
Y9AHGsM{%Dw@V0c@PnER#>ZmW(-^`Nu2><{9

diff --git a/layout/reftests/fonts/math/limits-5.otf b/layout/reftests/fonts/math/limits-5.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..ccdec6f2b1377f1bf31d0f1cd4bcb2bc8c50833c
GIT binary patch
literal 1908
zc$~FWU1$_n6#nka?BvH~6GNg2UBl3B)d<;4c8vv5ili)Jn<ml_d=TQAuGy8{%sLtW
z@*sf}`mhgeQG}L0i6WGyAe26cEWQXnD8Bk63WX{PLb2|WXvgo)%*Kt{Bv3rNcg}at
zJ?Gr-&i$F;(a~Y7!z@&ogQ=8}e=>dr2sHwDluC^b9W6YaqWz3^bZF1$UPVuK0(vVT
z4h(<Qmso$L{VuV={zDUmbWwS#&H(Dq^zF-L(qD_oAAV=wHMSjDI`oseN-XQevIXZ<
zGphj&Sw6yr^r<4$5keuo`c%4*`S9<{f6|@>l&+#R?YMJD0@_3N8xS%Sh#b2S8*kb5
z57ue2818g#9<J9~m)1qq2nD_{N0G)sjpMj~u~%TZkmHE=gr<eXGlZD&qjHP(cfJ;n
zkrYj`jyIpBx^KvJvOMFDrTD|YjxmB6MDW{^cQd{Wupr-W1FTS=3$Tiha4*0b8by16
zLueJB23V*6Fe8OVhWNtEl31V>#{(?sd>>#HDVz_m#yU!XLomdq0PFORU=S9HI1L*)
zOd<=1bJ&Ur^iU^Yq95Cdh8Q)&h&+F3+A_;#o_wa6lOy7;8nlY1?c8M6F}6<h7zwj~
zyD?<V<nsBnF=*LE%T7Bvi*b1-6xbY0qZb2o<O(@wx|hiRr@VTOr)~1ecx>Y2V_+xS
zn+1ID0CB==K5wL~DJNywlNlosH;tV}Z5YCV-bAk?xFVS`4s6ryPtRakSvc-#Nd;pW
zdzv#cOtU|3nx?U0wc0-PS~OVM&*W-&w#N4^S6ZX3$X({T-kzd%AGqJV-e*F8*T!5f
ztM&gsQC1Im{}P;1cUImXZ;RkThY+G^X#s>hb)Q#TQ2jtuqe^v?THUC1KTs~ZVYPez
z1vjj9H>2sqSYN5M1i}ra(!%`0d?<=bEm5E~ieJ`8(G<n~HmI`T7WCnhwQc+wllm<o
zFb-9S*vICJo>I9oR~F@R<z`teZ>YvAk6y&}^5P#ImAT5z#kqz^<atSxZ2p~Zh%Eft
zzR=TA3OCoLOS!fC!X2rX-Iubb8TUn;7vL_v?hSRG<rTeemA8C5(A(CqB0rJFku}66
z{a8=ea9xdM{$yRN%NJaWmsg2*^H$wJ9iy(@v%<S;>#Z1D7;Wf8_kXhTBik7f^H9XA
R>w9au?kCTH{MyJb)GHz_^a%g}

diff --git a/layout/reftests/fonts/math/radical-1.otf b/layout/reftests/fonts/math/radical-1.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..3286481e0b154b1f23345188f164828d4c588d67
GIT binary patch
literal 1932
zc%02u-)mb{9RHkqZ*H43q+9J~CwJj8($WgeZqshU*kIBTinDfNDGGvK(%3|j-f)}!
z^rg@Tkvyn~$b1|=_^=9s>|u=H;~pma3#JwyR1{R$OzfudbM8G!8;iES?R#_X_w)Up
z@2`{dJ?GBN&(EO`tI*+0XS4Rrsg3u5$RL0R+3fu6o8@1Y0W(h7ntgVDMl+9`qdW?T
zm*-wOn%V!`@hY*+`PXx0w{m85<7+_wl)C2%d3RAPz5fO0ZgCthP+?v)b>jORsY1DW
zDK<oeo>ji$W%p7AI>SRqt-0)$^B;a=4O8a4HeB&ms;xCl0*3UrA*3nL_rxE+zSe*8
z0s0IX40ne{=C*U=ka38t7aBsMk0ymz4d!Wm&sl+PVvXm5Hw+^#?ju5vtJ)pP?}l9b
zgh>&Vaf0=9;^K5yoG)P?c`D4Mh3U64*=hv|eAdy9;01*RqIgGPjr=2pb)@i}!Um$k
zQaFNrVn$(;`Z6tr!3yzw;3cuZ0M08c%lSZI9W%J9uz>;5t8fIi7*W`y{uNBaLj{-N
zqlhIGP~{p%k;52y1`Z}LMKnvRE3_!_aVbkLpMLV~(x*touA25Lm;K^Wp=yuj#_WtU
zF=fwsSBj;QYfpQA#q-^2(W9MoTBK8syo7Nkf$uIBb8cyzF#KhMkkx?uEG-`tlx9gb
zPH^mu5$cZ-XMzzHkF2*`&3gV)-p-^Q`-I)eM0{*KGcL>At)vB}_pzeZX*0A8o({My
z2n%_Cg-f#?XCm!5j=fvJc25SQz2j%(&IGc-J&?O@P}XF}wOX>jByVlp`(dl+goz!k
z{!iL%{xKkJca#4lbz)nq@-Ep)f`=YLh}hN+2zdn0Hv7@EMDwuLOzO=ijpT;*Nh_`=
zU%b|e8_5`=7Z#4zY8?>osns^uH`gN;KJT}HeHL!)w-B}P^8gGPu$MjY3{I;wdpi!D
zn!4IUh_|5&ks5X$jn(RnwYsR+8@KCv{a`cQ`0-KNtUtVQpt07t{cx=(k@&r4$in_w
z?@4T4AKV-}P>aXfODEkqb?vU?UH7P*iQ!w3=EZo@{J;PBSBgKq2iuQX#v6OEn+$CO
z-p1Qvbm`kz(coJl=k19<ZxWp1UK}J(k+<((5$w=*Da8@z9Xf>Mzg87m4$>kOphOTi
Q)VBGyN4B#33dt|m-*E!@2mk;8

diff --git a/layout/reftests/fonts/math/radical-2.otf b/layout/reftests/fonts/math/radical-2.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..5ab88dca2d5078f15999e2855db459f13f7266e2
GIT binary patch
literal 1932
zc%02u-)mb{9RHkqZ*H43q+97`C)aS1th7S1+jQ$-Y%u8vMXjA!ih`h*G&Yf>H{51(
z+f$(rL-L^FgU-j{gAc19$R36SANMfXA0Ud=hfNej*i7iA@pJAyNgK=7?rrDh-0$c6
zJ>Op^-|snhZhn3a16YL)XF8X&Z%qC25fB*$a6gxupM9_L=Q3c%$y>88&d+FO=5z96
zfOuo>^&{E+e@)ehZLYtQuejASV;esK`j?cwR4llQV(H^=xb`jQRFMMneN!jC$C)Zt
zY8PT7MCe=PD_(IgRH2_G6jEv~yOqLc8%Y_9>)PR}w^D1bVG=N;y$vB%neD(23vUme
zypI7xI>YUe(Yfu^IAk0m>4%1J&_<KYTL$B_?{HP1cQD7Z!5fAV7xxgM#TD%q`42-X
ze#fMUN<YDVx_)uG$Io}LpMN%trG??QBH3yO34GO+j^b5?1)}&sVU6@tg>|IxtHK7N
z!csVbePTvolky5Rg~1H*N?;|iz!1(UEYtZ!VI4ELqOgG>(XVg>wis2|r2I`x!$TDp
z;iH5l6j9?I#*oK2X%-G9aFl44T9>F%=Hrr=RzB_I+oes3h+Q@9RWJIbrDDw<%a7Yx
zXX2<m>s>09%dS1``Bl$%YbB3*(rA%JdD1e{3<Td@EalyDnlSw30++Rb`b@15B$Q!F
zHcoKv^byLB1vuSJ9yxEhmh=3jf}PDc_6fTiiTGGLo0e(rmeK;l`&d!?wCP$p&jeH^
zgoT2?!mZhkGm&u|$KK6hrzeBisrVULnSeJ~16g&0ye2!Y-Io0&X?x?xyIVacOzdd&
z|Bv0)pMs(7uJYKSPHcNs-X%MS;Gu^QBDPflA&=n8twFRb(Rxm6CH2-bMsh>@q8-<h
zuU&1&jbseb^9x7n^)86_)$5z<o9ht^Uk_TqJ`30PTZmftV+e+H*w3Cgj?*g4-i|{z
zr=Io@;xcq0Qiq*~<Ml>!tsxqX=FNuQIM~WGe|wlQ8xO7@Xs$JHK3MBZB>t`&GO>Tx
z`x2YihBwC#)Z?+v);VsSx_VpEo_kcT#PGAo@M1h^KIuRHy`nGdL6_eb@$Me<CPUqT
zcJMYIJ@O7#Lw*meYmCFP{BwhXQ>?{7(iCau{uM!mwsR@YIPcIABp;bos5wlHRDcqJ
S-%#42+aB4<@+&02T>k-SSosJ5

diff --git a/layout/reftests/fonts/math/radical-3.otf b/layout/reftests/fonts/math/radical-3.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..15eede370ece65350d741aecf8b9ba8eb4572d00
GIT binary patch
literal 1932
zc%02u&ubi29RIwT*-3UgY}%04RMzDo+mN(mJK40glol!}OQ^<F8iInL!)DE{>}Hn9
zs%=k!97Oh@;z6pn;=zLv1nHs3;<1NH{{qF3gBAr5+U}CJPCsvEc9XSg;>|bv=KJ~n
zeBZa<?|U;lH#dttSb+|EDxa4(PHub%#D)Oe%jf52-m3n-1eg~2)Xej9)0&w+Nq!U%
zugqRNn%nosi8`^Q{*6M_sht~L{}Ir?pzM69=q!lEkG`SqTh0?D3e0y+o%k+irc|w8
zN(>XBZ-p<b>RhTpzd$II)Le3^#m_e65%Sb)hidL}-CxBdU?_hHp-cf^zd!W)!0CI~
zW2j)bJv=hIof-#?gCzaX5Dxliih0f8I{wep3iJ-<cp-ShFf4HwF?w9pZjt{Wq~cdh
zinxjs?57(SXM5s&2l?#N;aXa_{MJe`+CdUub)_SCDZ&DAydPnW^pgnd$Y3MF2I3+W
z;TZOc=?I&YS7|8>W{4L9FNFmL@pgn&Iv+<^$26`+*ubFZk8li9j6~R^{8dcBMGcqX
zp^Qb8Q0E>-QNS2!4mKumjA({dS7=e;<B(Tg9{tqYp--8JT{Y#_E_>z0QeBP~#$?W(
zI3{P@E9FYXkyEZ$b3LbCc4?=a7U)zUtzcX=fafff3r=O6F#P3%koACiOsyCslx0d1
zr#PRC5z3Df=Ykm~kG#87&%54YQRcF?JSDp;5g#AVjjJ?wN@<?UdsvS4DH&P?&jwT_
zg!!Vk%&ke=p2*s^Eq4mo>B(SrDt=B?Cg2U$Kvmr!uc?mnebrxz`s+XZvek3K#1pOl
z*RhlSe=xM2P5yO6C)QuV<lm_U4?TnsiLD9<bp&5%51^eA?Ps)hT5msPq}R32eM?Wj
ze9gCvbOP~r=8rZSU10S!8k=jIYq1o*9!LRuQ@Fk_g?I|T4Z=_X``HuE;cT?b?v6t@
zr=Io@;yvg>WDeO6#~RJnYEv|ut(#4~d7zzb-FcWbn-8w<Z>_d&K3MHbChs>4mDrza
zeaX!)hc?IdH>^Zw>m0YvT)VAk&poO%3H&6oyckcL|MegLKB9+rVf!i5cykwalc8-u
zJ9t}+9(jbV^PxKU9&qsX#G@MoXIP5^q#4rA{VReBZRawa7Vpqur2jFi&~k_tnE)k&
SxS_N|w>_$r)mKP;xgG=7fcXgk

diff --git a/layout/reftests/fonts/math/radical-4.otf b/layout/reftests/fonts/math/radical-4.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..ac9ff24eced08b0bd55c0dd04b3126f1862e0ed5
GIT binary patch
literal 1932
zc%02u-)mD>9RHkqZ*H3yQZ3ch5yL@ZX$OtBsdi8l9F<Vqx;j?M1_O6VvnC_y4Y%2*
zJ{9{QBM;ly!_WsG#D_hs!eICyBka)!hkt>xGDXJ*W1uFq&g^sUy-Ayu+4{C~^S$5C
z_j|s-PR{q7J3TWqja^uR4r?NlkvGThe+h*806fWLW~M$a{kZ^`QOfbDH)bX^bL=_g
zK|s7W{qEuPp1;N_#FFzLW=nSY<lyQ(K>wDyQ~8`dC+5HUfpb5S#`08{pP4%GV^T6-
zs+^7V6QOH~uV~3WTZVp`P$;drV3%@N9vn<j=Dc>O>?~HA%NPX=<u4(WDbQH2T{zQo
z><M-mDj4qc4@__7#(rZzSvNHJgFc!PJ}{W4`H-^$or5)=_TDgzsCbMJJuYdtDSzQ}
z@jFIESjF+y(~gT19dUkwJou`gOY_rjWRk%OVz}Pc4&dzo3xx4`fHm@O0<0s6Uju9)
zEaCwUVYiqJut|N1mcn3#c+2xrSfCf51Xz{xb%1qD;!=PO^os5Phakm3fKBS(#{?Xd
zaSkpDm`5HJu3->a43Vc{VFX8rrf7AZ7DYZbW##44PrYsW6o}YW6HfV@TbR#R<Y0D4
zrmc}9a>_YhC>Cuw;kaeTwJQaOcFJjvPFeCIhM5AcJy*!u#bHAKm+?YYJnpizoL5ka
zB}t5vw#M-FM~TxO`NbpSEL1X%JD-#3lqJVyI}`EI;q<U7bGwpencl@>uujR)DtOA{
zsvykf+(j-;TGmL)vMjk>z*bLs)Y|crYG*vz;2x-5Hz;eW<C;y?Uy3(Z?>^e-IbmW;
ztN(j!H~&8v+V&<d9KnfgE~&d@>kvHj5JE&Yc0i~j_-3OAjkstW&>9K7@rsdH)vh(8
zdg7g{&8U%xApGg<;cB%FqFvSM+REBWD30%Y;=t}WZtRI89LFEMFjT;9_QdNr5v1AK
zacI}n(H=rvgf2w#ko9b+TB|SDM6Fi8Rnu$x8mank&r)V>{l?z<a{bo&a#t+&v}&lr
zp09Mp*1qdo8`@iqMp{efxPAQU9mPBDQ8g36FCxW@@tFCt|M<@Ve{Bc0ms!R~JFpw|
zZ9U$?n__h6M>i;WSA7wDGv1!~`zFD0?!`XxBzf!p72XbQmXf3>@6diE{<A9IvX2%?
V55>H=zP80TJ*t(}S4e%i{s9-f{00C3

diff --git a/layout/reftests/fonts/math/radical-5.otf b/layout/reftests/fonts/math/radical-5.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..019b9bd2da1d7c37f4ea04483485f680368eafa7
GIT binary patch
literal 1932
zc%02u(Q8{(82_DnZ*H3`q-*JBH)1$QR$8IiZMsev6(${_sI?PIQ4sW!#wL>VhTEvy
zo(g>s$%BdyGT$6N_+SM=_An&)IB>GRK(UHUQ4pmwp_|6vx%VV(EZX|!cXRId`@Zvi
z-}z3y@0`1^xVV5LSceH`HkXq(X1;$5hztX`o69ZEzg+oc6|m!!lk<-)&KdUL7nH{U
z@$AAgr?Z2<o~;o}&cB$ixYY||TVDg_htxe@EV#>J<?T;7_Zi38A{F*)wn@CrkuFwh
zmtrGC=v(J2UU4r~VO}H@N^7sWmBRaX(vy@qZ=9-nYqj<UrT|O%O9*8O{I+d;`@+D?
zT^zAgFx(y)UD(U56V?f`ei#UeK86yWx42IG4rc{=i8)>j-mt8=*hYjNSB+bg-we6<
z2~#4f;spEY#>M%bIG;m4bTVAa2$$boN$MRW@Nri=il;Odh~f>64f1z2Hj&168e52p
zq{a~(6>}Qf)K_RJEM|x&122UIhVY8UDxG&UHZg~*8e13={TfFg#i+(M_0M4z9;&zu
zA0@1yh#L1WhCIf}vv4qpGeq;Wx<ZRGAD6Q7^697EE`3Tw?5bI>df6|n6l-!UKQ6P*
z<QX~dT`85zuAKG!s^`14l1Dq`v`nWwc^MO!rpjF|<=yfGVff1hA!`BmnOY%8D8rN_
z&T;II5$dOjv%v_HN6uTV<vf3-AhQ`qo|D~`h^HsA6DrMvQd;8jKGyU;B}1#=nSiT=
zuvGBZxHaiGlNrZx<Us*DJsFHn#V@GJ1hT~%sH$6(4b^e&w(2j%+go4#u-kLO#=chn
zI~_FtKOo~^lYb?BV%zKLF4<3lhaN(R*lq=cI)YEM2GB~1)`LbXWwsu$Qd`Cc?YNnG
z`dT|~rDBM_x^%i;?}B(=y}q-#vl&U^lYt~~G>PkjNko(Qc?gyY*w3DL1n2cKhdU14
zoO;?rh}U5Xkv`?zAFnr>8x7HDG;cP{#_?9B`Q!bJ-MDxCSaYL!^WH{ZBJq3OQi=V!
z*_YV)Xn1G*SUn!=Y@KxL(QCIA@3}|SObp+M3@^qR`@jC<UuypFA#C4c8ZRBfZYs15
zcn9x^(WCERO~Lno#M={p+#oo~S{x@&lXvc45macel;()@4jn=2AF~QAhiQ=xP$GyM
QYCC+-qgq*gh18epFN^Q`2mk;8

diff --git a/layout/reftests/fonts/math/radical-6.otf b/layout/reftests/fonts/math/radical-6.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..b786fdfa7888cdb4a1fce5be47476e6532ec8a58
GIT binary patch
literal 1932
zc%02uL1+_M82;YOWZJ}#YN=W!hKI(|3QebJtsp8&C6rxj6-(I#L5DOpk)#u*ao5&M
zp@(J3LB)gUQ9O9Cg3IDzS%OCoO0QlNi=Y-O%YvFvi}8OmFKJ@Yc5nM8Z@%yU-~a#b
ze|i6VGc-IrgbkR63Zp+3<9{7`bp`OW0QeA#4G*5r{4);dev*TOM}`L!&#o6Fw*%~_
zp;KMaP5<`gh;tf08_$^8qwVw00rd{)en=+FQ8sq<Pa6B1dS8+h`mef5{5|z>GLyUL
zYbAz;X?poH=EW@36GWNN>f>f6aeJYymt-1Oc4w`LTzLjPfF}Gom@owv-#z`~Ow)l6
z*r17Em}_ktszq&^wvC_>3fx9MiV#j~G*9_8jWX0X%JGErhNk)1dw9s>hVq!?%Pz9F
z=wV(F$5~G`E)Lhlc?iC9yE~WSPQNk}mn#V1URB$M<B~IY@w?;-;dRMXgz-{x4PF+M
z+=Gp5Kysb*8M0&=Wr$;rm*5P|xFESm=bGdy25>`i4b7}kat}CblUyhL&*+DREGA(i
zg)t<NqcyZ6jt;^o40NNH*dSR=kwuywlVss#lb?8-<dY&sRn>20C+*Z&GRNEF9Xx7u
z_wqq&DwR%~yx+33mTl%z7TF1>QF4kCrqPK$QkkQvxS8%G>i%L*$ee>VrIv6Kicm@%
z`>C&v;p+Dik2>8=9x-b?7qjfK1dm1xzMofTBEGjX+9}dpE2R;d-o}JnC#TRNc*H@G
z5JnRA1TBplMt8(848B&tN=-Vwvg1d^&N#A0dmwgQBUup@S1ybC5?G#p_GYE#n2uGY
z{&ibx{D07twN1X;<cTd$i@RiXV|3`j81t>{024>>$5InYK~~zKltOB0s}`D9ZkPRP
z=;W=kUkmx*{bi&ppRW>sLq5MWyEN+w;(k*Q*cilvO+k2rSZszS0ya`j?89L>&H9c*
zHK)4rVC*-jjD>d_%N_Ybai+iuh2o=vTG&#G6c?5wdg0T9&BdAGqfavpfxySSCKCHR
z+Ynf~+p^TLIq&yXmQL;Q!CP|z>+Vr8;=>CTp^Nc={$Ky`CldFp!}cbnac&)UJ+7^T
z6<!mgPTy10Yy4X-Nq&&_VhdrIuyX%0XNPK~Fm*rOp{)pgGb`7!g)G7j3pjCIZ3Sx{
MQOe>gB)(i<0M35;2mk;8

diff --git a/layout/reftests/fonts/math/radical-7.otf b/layout/reftests/fonts/math/radical-7.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..eb9d58ebd6a76de47a1f86f15a401e6c280783e6
GIT binary patch
literal 1932
zc%02u-)mcS6#snhy}50&kZz@$on+yQWF?g~yG{24#s-y+P}JHDOHml;CC!?Qq&M6~
z-S$-IgGe4!e31D#1bwiAAbSuA^KB24{RPU3=r$*au$j<}WuNc8H)&#-t#6*2bI<3T
z?>XmtzWJW-_s-7E&0-f;pu?KVX61L2cRm6_LjWFTvvV^S%6~2aW|Vq-=B2r5Ep+Gy
z>M20HG5h-A%$~oFRf#3X-_Dio%IVbl&w&0VZ7&z{_JUaa_*;&BPd-+l!F<oui64-Y
zg>v;`WS9tjD||)E_QeYHGlW7}%_X~>|Kfh?ICYL|2P@8UwY7=~z)<lLLb(FJ{d)cP
zw+2o=#4bZ6!>!?w*=}j<H}+HXLxWF@(Ufw|;5@B692Mv#)_BHy!!V-a0YZ$pqTQta
zp)bXKOo*_`<E^KY7n41Cu0y`?yg!%bPro^n3|0`s*B$E!UJI~57#{>!qx>|$I+FM$
zzy`u19^epmi|GKHw3q2A3|5F&y(onR2JudSRXLvoSjRN31lYi!=nrrRQj7%Hr2S1y
z!9fL=;G&2{6j0?FQpjPHG6M_aI6^c-ugml(@v*6^D3@{SZ8N4w#IBlhDwo{iVxcNi
zxlx(1#*fGu=W?-BvgMTHRvg!^79IMjpallyC`%Xv8^X00iaEP9M(F>tUdpN`U6z*j
z3QDsii4)|lIehz3;*7_B@yI$$)vV(#=4B>r$rG|O6Y<fp%$O>3yOQQPy^G~wosy|l
z^0X&aL730G%UqhYtnsvES#rCC?Vj|wz2m3V&Um`PJy5%DP}fw)wOXpblx(g4ba%7o
zgo!P!{!iL&{C_~&_AdWQ!HI3HsJmn<2_AX~AtIYQAk-0jr8$6RTr>}8&4k{3&Pc3l
zpSPlV;_TH{)JQ}Ses}(Gt=0k2zFKW#ZDTDI$2S9UV0RqX_QVm6<BvfYDq%l+;y5OQ
zX?AuTIyLpQhY;^W7b1DkdOTXIH&*MSUT@r}>-BxjbmQLRv{`?2ZEs_>apTcyUo7@_
z%}|9sS?h~!d^NN&y0;dMw3kl0dFtvdC425sH4?#Xk><sC()_Rg_>X~naR<Jiv5fOO
z@SE^`J=w-xIeP39UECc{I&hA!Q{0Pvlu63={VTj3>eiCvDDTi=B%WE7?>R(|q=#Z&
RUf<f5U5{#I^%YWIuBRrw`Un63

diff --git a/layout/reftests/fonts/math/scripts-1.otf b/layout/reftests/fonts/math/scripts-1.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..f11c140faf4c1a7e809668b85b5ae5973e9e35b7
GIT binary patch
literal 1892
zc%0o;O-vI(6#iy+yR=aG3uq&iOthjTQkNno5-?Gc4KW}X3DJnr1}m+hY~5Ca9t;U5
zQ`Cb8g4~D)O^AsX55_cl@uczM(F4SbMiVa@DhBJD-EC<V174l&oA<pp?{{Z*+CMnh
zj|xmehSsg?{IYv`25@-+ywml;zDw~h<0O9|+240$ut!q2p8-?_V5j;|?hn;GuA3&z
zY5n|2Je<H5`6VDfAl=buBz$4@_^mlwdq#9HN($+$+Cca#Q6L&mO}I5eC>y599S=_=
zAPo>?KAP0=a6EE&-;LWOPXf~Jgpo|;rf>jIKGQk}6Q;n&7t3?!sye@+LJ`66#@Eze
z%$?ze<RJ2qgfOi5)-)x976+^uisEBm;UZyHdPVXbo3l@7V;*6mdJ0~@M**HwmE6uH
z+3DA8xYI!;9u>4rIPPEu4{kbGB0l3_83DX^umTVBJJ^M4*5hE6^l`Feim0vE@)DS#
z7FQfB%DL-c89kVFu!36VcCZVaH91%%{b_W=KmylbB8E{!k)j^<Vg${^L(tGlyTj2(
zR@cd5jGi#b!pkH-F^9<~Mu<*Tw~@GJ#zvzlzIUXVhqTrMywA8E8ygGrZo^C%W;hiy
z$Sz3<M8X8QCecDkkQ^~%iBz(Mp#9UWkSU9sR9eI;C`cu7bP)X+!`8PG4q0Ru58W6~
z>4rHP;h~_$J9r@z;r5nLizsuWl7=X~NqW0aPN7Bcpv6T&7>bxlYK?1JYf#fPzEMDD
z=WWXGc&FGIOIAconiWgtxtu-cmh$I{sp}oi(y`I{e=ua5<tEXFbsA>$v4b&IzV_ys
z`1E?SRme85tY6CRkh9yAX)kMBlJ4ica^s2loL6Zqhv(|h{&czkyk%(`E<YYt`GIOb
z7Ha%(`|-9GvWU2cj=`bL9sfctCC7n5Vr=KGbY^)f!!nugiy1kybwywP_)}LiKc3Vt
zPkmqfF;!Msxw24~u1|Z*^ZmZ+ntvmB$sH+H%CX3Tbm?`f|N2&6+su1x6SnuLjEkGF
zYqM=Fp2tNoO7v|-ROC-LBUYah?xLH2EAasF{M{;^QYk>>rTfu`#=ll&Th@_9z(SQ)
OTw9yxMUVJ*5%de>bLkoY

diff --git a/layout/reftests/fonts/math/scripts-2.otf b/layout/reftests/fonts/math/scripts-2.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..8794349de64b06303a7b5eaea1824f34c9698e5d
GIT binary patch
literal 1892
zc%0o;O=uHA6#iy+vrW?2+R|#kwG0|-TS&T1RZ!Z47M31tt5}MHqM^nn(sbh{N-GG3
zo+OHhhf=+X2ZbVd5fllYJSlqc=%K}fih`F)Q$^#O-A$TQr9C^FH}89I-tW%rWN3JJ
z2(_4o486}V_yzy<S-=wj@Xj!X2hOLyPLTYOWNqN!aKEH>d;nAhV8@4!bw(Q=HC-dj
zY5mM-Dwf73`2`@~C*7e$Ja+cy;PpGS_Kav>f)vszbsOO&qEI50o%HI2P;-(dZz?vK
zhIE7=3(}-c#8UBtk?ETxPXp4fw3*2kXRrrQzR)@c6Q;oXCvUEtuJ8GVT15oI>tO3p
zC3lAxl8eYk62eI(xT>idw0Ojxp(sJN1P=*w(o2$WIGlY(H}eS-)mQdf8wGeyRdOen
z<fLD<;cf?Ycv#l9V$j75K3sLNM10o8GD3LoVg){?x!8lvtlz~d=~HCM6j9q@+e=`E
zMqG5UDCd@oW%Ogt#R?jk*To)i*6L!F^e4~<6KPDrLK0(0AWJ>8VHEAeqtMYsyTdU+
zR+q_QoSqoT!pkB*F~`U!Nr+BWpP8Prl4FT1ZyRmrQN3#qA22T`$H!y5&$QB}70V_~
zvdd5ckuXiJ8H6bjGNV>9oy~*^IzPh>nYFn^rN!-nB2*H`0ir)+IQqRd4ws9EVNPTX
z(;AEOXhi1+csUc{z2RtBl(}9>Bb44Ez0)VB&?0!m=As~s#H|dq#&x|bqU$<eFQB{g
z4wZJiN9>F(D<US%iY@bE(V2^jrE|s9za7r%vEKTBFl2`nr_qhSG|cE@2V=~?`sSJV
z^bQy5QP{=`npD^>7q%+b0<2|Gx>pRyEl2Mb14@e@zDpyWxm+0pYH~C@8XnYZz-A5e
z4H~=}-ZnxO5qHxu*uSykU#_L<I50?z?bw;iFVEyzKEJY%m-Ab`8_S=58EXE=<L2d=
zm4zQOHFb60=bLiPxq!da@5|o1uLZBVBgKjz3oJsHUXQxYOVsAqC|<d|V*@*Io60!1
z0lRL;*5)N#5u-}qT|pK8bTi`TQ^LJ;^KT&@B3`;%#ZxVXhyrv!2GR1*svOHEvIyCz
Q&W`J7OT6L{|1N@l18KGD82|tP

diff --git a/layout/reftests/fonts/math/scripts-3.otf b/layout/reftests/fonts/math/scripts-3.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..da805610f06a2e4ebf8e25989d361e0dda2e8293
GIT binary patch
literal 1932
zc%02u-)mb{9RHkqZ*H3`q_cFh(-;mTE3MG%HrXbO4JIw2sI?PoQ5eii7Mn=Z8*Z+;
z&6l!1h~z;;LFVJ|!3Qe{Qb8p6*oTe&1&YN76@@X_Oz5WZbMC!K6Q{P1o}2Iee!k!H
z{dID_=iK>)g?SvnDs))W`MlhE>G3TfG6LXUKEE*cdgb;CV8$sY=bm1e)y$(Cl*a+_
z^8Aa(v%_~zdBl?QuNEqHb!L3~dqDq`x@Ss7`;u6C|4Yt&LpoKW!hFlriSLrqrHXes
zHcEtnRledC`*Icfc|xJI=89b@&REwzq|ABkSk<X{?KR{8L-|VxWeQxgzS_Jvbmkro
z7%CXHM#tuRxpBleLN*8u!Jv<(gbN1qw148PK>uKk=lwSfBQEYDLXYd(P0H^DT>Ofh
zh$<6*J>9rC*B9qo$fJ)1xwIhtZYCM7Ac4=j+A%yIVu2{$4Y5Z4QHXV<@neV$L`5>h
z5gZh=AvUS6&{7zz5YPEu3JVP5jS#DHJ_xanSzHgXfnhNi;s~S|3$aQ4E0~6ZDz3mq
z8A~X^;~K_Mzyx^~7N&55XpUA_X|c@5rmVbN`l+`~pE41<YTBt@am!03PmUKRWY(HG
zA?KW{<>h5tPCIVZac!^c(5}V=Dq)qbHB71os1@9D)vHYs2EV)?((}2?(u#gT8I~k*
zn)GmtK!1`r>r+rX^3IBvcig3-%w{ZkT6QxLpPbB2sxtQ~X_4t&>VtJkhE~BdK34@{
zvFO&gG-+8=8OyTdUI9Bj=~HLNXVlL4vcWx2yKYd{RL8a3s=pL(Z-4jmZqEr554HN=
z$6oXQgQ4wh@}DC-vF%ml{%Kn9&_f6j+uZ@7j^MMcA+(aB^@P?+>8(eN)VB6XJFcf*
zxY3RqsTiVfE*`JfyC6PLukWnytVfdgVkik5Ok(4aB%(?DHVi`r9Ar;Cg>$Zbsa&v^
z_jeq+HTAWJ5br=2B7MwyFi~$b*BYYHXl^$2#^F|``OAZh*|@)PsJYhMyuUV(Nc>(m
zRAGOv4<vRz8`+sSRFB6xOXs+G_QsatefOxEiQxy4;l+5y+{d3h@^+7KE96h^!|`L5
z@!CG@a)GVSJGduCpFY<^J^s8s@yFN1XSo-L$<ySW`&alo)GMV)ao(Y$Nd0S7f#nD-
W(mqP~aRY6K_dKeV)mKP;x&8wFto#N5

diff --git a/layout/reftests/fonts/math/scripts-4.otf b/layout/reftests/fonts/math/scripts-4.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..db31a8161738eedfee24a6d6ed6403655d611bb4
GIT binary patch
literal 1892
zc%0o;O=uHA6#iy+vrXEV{!lg0SO$%?6&kmx3YL1%!rDXs#8MO#4KX&6rW-d=)Kj5e
zBoz-Hq<X6!EEK_u2a({(Q?(bti-#63ih>uVsZ!&c-A$TkwLLqVH}89I-h1=S&g^7x
zcz6&sn1BqeN7wl!-|f4A%M0M0t`GNLOnw<B`vcj5{v*S^lG^ebP!)ik96YfvT>qqT
ziZG|~bJ1iZg)Q<+Kz>BNqw!ee{OZ81`!x2P<Y1f}(iydh@K=&xJej%b)(D~MG<EJ|
z<Z24i5JBdrP92XVW5>cbh!2|pq}?eaoheLWKcIZ3aSkRzfw!~s56;$he?yHTiebUu
zGFYyi=7!`T%8`U|TJf)WDjE$ASv?fR&%VM%#<Vm~_HA3UPv~SG5u$oZS-)2SUJy%e
z&n4N@uf=d@1wK43d0Q~xU<MCvI#?oo*TFJ^c<*2Z9u{!03w5m5!7BNa6v-69t<TC5
zn4tle9W3bFaj=YDOgmUX19Lmr1<qO=tdjo}dSD=hYcP?(DB{S_8d?!W8|g4KbkOc_
z^i$MziWs9OLbk{<DNpnf%1IESQ`KXnu9=C^c!sw|+jv;(*w6co>xr?k2=6h>lwn3P
z34`L&G=Z2fMX71Divy63nu$~<-A>T{=~l^%rA?w1vj~NV5=R%wpEYd%0m5NRZ1T{J
z@r-VmqcI*1X}pV<W+Hr`J=`v6ZbWH>rZ>rNuai@0Q9NX6K?ox;Gfhk5n${80G>vam
z(AjxgiaXvdcE++5QImSbvU#Ck_l2e6xnk;ihqJP6H2xnn*;a)KbYh(aGy2%U7^_};
z^Gtktefe7Cn^-;|<#)*W?aGvwH7`jI3tqYT_)Nj8G*`oOWn^DATLRvyEHzgEv$X-B
zE`YiE0Neq*X@D#$?xACFXmiKE#HHdmFi4E;+?CBOPv%%Ix3ZX%bKAb_%O8L0YVOC=
zt;>@ui$5l-e7^5<joGbPZ*_6K^M_{^gs!+F#Yi<4S%@yZZgrg(=fCrhxBAM_dpEHI
z_lU-YO~iHDv6e34vKkfs&N3;>r<)P0&j=r;n|~YWAnD@WDxOL!NaCgY(U0c8va%x^
UDI#bgpH<iP7IoPp{#}Ip0=jwX82|tP

diff --git a/layout/reftests/fonts/math/scripts-5.otf b/layout/reftests/fonts/math/scripts-5.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..40a25a8e894dffa0efc61682b4fc947960cd4af0
GIT binary patch
literal 1892
zc%0o;O=uHQ5dPloW}DQQ*3#C1u{<=^A4s}QTfx#EYGEm2f5cK06b&^tk)|6rQQG36
zP!J>)1rJ3%h~hy(1TP*$f+tTx5j=Wm@uDbrQ5q{X&fDFji9fVneVcjn&Agd;GyC37
z28V|Su?aJfq4nxIKVN%&9&mX9yw&yL{&UIC6C}SUInduT+$X7>mjG1(*s;N*Es-rx
z>gNb^T0cFSjHa+zehJ7ANOv$Ei=J5>xO$t`o)hhllR`SFZX^7KC>T#>Cfyn#RGpy7
zos3SVAPo^@ewx&YXfk%F{qil6X8>te%1CDlvuFpDPqfa#gema)?wy`fHC<n^NfE)Y
z;BOu*=gx3LauE4QLO7xL*EAJ_7Kf}EisENq;3DCs^orzbHfJBv#yrAA^_0ARjRL%&
zEV;dxWN*J_!<`CzcwEvpW5B@-9$ay-M10=CGJ<&LU<Do)aIg!ttk1zJ>62v16p`Cu
z%S&K}I$UtDNau!wW%S{ugB8><w}V~atl7aT>5roq22z-Ui3G+FM}}(HgHh}y9)X5d
zIvtLFvYIA~aeAU83on!W#2h7`1R=Ury+&%vOpL`de9!1!9?@FcdA~887$1-FUc*co
zW;By9$SzGAhz(QZnnnm6q#897sZ2UV(EjOG$c)8JN-bt36sD9oI*ERdVe2~xM=Y|F
zhi*({bi*8r@km(XoxHRY;f_!wB+^_jr4icRB)wfHr_dsJ*y17~jKs_|mBux#HLPhG
zUoW6@@-`Juyi1&nB`YE(&59-SLcyL3OT~M|)IVL$%CX-1e=ua56=u+eKNQU9V+Uib
zdhN|K@#!7T*C4-*<pWZFyPV&u%z0VUl61e|m79*-D|nTrYIrV=v}Cg-;H}Eia0T$N
zCIHk1@Muc_?f~A@K^75r(=|A-vFl&TrQ$j;NQ~{+nawTF=2$NGZ80b38dvn?4?lD@
z_x)+Z^6a<8@3U1t-^!!<Y(v&tU99(2_q_$dD|)0@sm3A;Q`75G|M8`Ud=A*R0b|k2
z&u+l3&9=385tqfN(6^OQnLl+#tUe>$O`X4yc#wFpw~D7y3KDs#Kl;)1*Q{*Ida?*w
R$Y;g1wMAa`h<_JBKLP)6=o<h4

diff --git a/layout/reftests/fonts/math/scripts-6.otf b/layout/reftests/fonts/math/scripts-6.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..a49bd5b00a962ec81bbe54dc30d761075c2cf26f
GIT binary patch
literal 1892
zc%0o;Plyv&82`PQ$!xO5tS+k!7?($zZdFK}&FVsBJ=BF^5#uT@i-JYNnr>1yJLx1X
z>S<vwl_(-T$Xa?4!4^dD(nBesr(P=T#iNH6FP0X(C>s@xzc(|<Cf2gsYv1I1-|zeT
zzHi=}m&vKANo>LbbXeoIEx+o&b{z;s0X($rsqB}fr}LDbP)=k&o0`x}`**-J0C95i
z#NN!-djpq=CGBTtO1UyN>$K}XQg^73&z*aH^vd_N{Yn}wP@#Qp?jU|fN)}4h^I?k!
zJ*PQ^OS$u9XvYXeoRc}9E9JAJ-~K>(0nk1!JC$m45&Hn+Z`vh<as~caTDX0tZ|pfX
z87di;<3p33JQ!hU0b-1%gwsZRP17}KJm$?XjJSA)5QQb}KIN-E7k^<yM3jpeX-B=A
z1^A6sN`EcQUw+L;1|7t3x2+w*(EtlXa4EnV`Sk$nNaAsT4MapDz#(iA69G1<FVRyN
zs<tCul)?i2_&UI<obLjxV**P7HqbA^0S-Zmp#YoIpTamClyLzrikL+KRrat8GuTa@
zfrVl2jzpGT7wIv_Cr4RDxr|eDjxj|do~m)De8DZw7OHaB%x;;nhWE*=bFnx#my_d;
zTXx)Bwdl~V!UfcVWrkLe!YEZUZn0dgqzL_=?WL@G++}Hbub?zbk~l#6XAWP#pE%=@
zUp#DQzG^$}Y+h#4mOLQaD-rKcWm2ll^-7xN@-Fp$pOUFn^0dcQL72|F6}BcVYdCFL
zmRv7ku=75(c6?0jj3*l^CuhTxWwYte%}1?sCCv97&hD|E{eLiYpEVaSg7-8m__0F>
z(YyBMh5Gc4H2TokAsPv-u~Tn+U|f!h!AIJyW>g<MezO@h273|tW_oX})&|j@8b>IB
zpZXHOmIUr>O(2}WgMR2L<0m`@pKk2<w`=J-4g#7GAAVG;uP)X_z5ZgQuGhD}v{(Op
zW1IC?KW|%Ie6jLsu_qRLd1s)utrqQV^?U!|&1J>A?nq_n#fnJt(i=1X<4aA&faqa@
zJsWVo!7{$sfZvGk>+u%u$kC-A>7b5y-i&zt3-LkT{M*Ts<gL3^J>6206y^OG$KbzK
X<$Dg$Bk7@-m)F;}c*mpuT@<|q%=zgW

diff --git a/layout/reftests/fonts/math/scripts-7.otf b/layout/reftests/fonts/math/scripts-7.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..1266760597210cf66a4b9e8a5b8436014a2aaf20
GIT binary patch
literal 1892
zc%0o;O-vI(6#iy+yR=wANWmsnGSP})LR|{@7d$A*hJy%3LNw86gO%1$wr;BdypV9x
zYK(d?>ctojnivx=9*k+!L{Atl9z8(3Xf*MHp-Qm6+1-{_A#irKZ{GKQ=e?cTX>Wgj
zFV<lKGPEvT=jVMlZv!qbfRDP~-*YbUeT3xCBnNs9^mj|@mgj(~0PI-r(VgL%XTGb1
zIoVGSCL&3!m)`;MBhnp=MI&bx4_~`SwwFY^Vx*8xs+$PU5d~w3^r%}Sgo+b1xf7Am
zB&0rq%uka#5=lh+_FTD7@&q7lOB$(keiH3~@{Q~qOt=DXZ@hVZs=D(B)+r(xru~h*
zrQ8{ANDiVHNeCwt|B|L`kg?C2p(uVf2Nwx<q$!fG+njwx8}kSk)l-c6I}7lNs^s=s
zlD+(r4|h7K!qcL*5r-Yj;K5}FOT=$GSVj<^9IU{@0uFXz1M7CMO8NwOGDXyO$chq}
zp%xb$EXuj%U>V)G<6s4~%<W(oIBRsUO8VpIf`KH)U?Pqo#E_;QnlOlF;$diLrQPA^
zA+K@r7^WvevWPM%PRtRCi4&qz)nz2d%=l0&&6@_Bd01<0=RL-Fe0Vs*y9_gFn2~hc
zAioqXAQntgXbLUZO{zgNo=m4&2--j0N}0B}Nu@=tf<jah$3CKebJ+S0!eNW-;-MQO
zY27e~qC6bZ_&#1-iEu|txJ8t?T1f-6yh(byPfn>t@{q+vK^TadDQb;tT5CwtG`?Cw
zXXkAy?0Bcx8B10~PMQ@<=J~um=VuG&imA&T&hoLE{XZD8&GHjy!!ivs`q;r3t6X~X
zOniEWa@ELfV!42n+bricDp$R%VODyW_sR`N9^}1BLnS;H2X<yMMc}Q-&~OFtxH<rA
z2;fOg0PX-j)It^+x6?7$ySC$BtflNYFi4DT*_z4DPi9#*`*S8MXX}6I^Iv}JYIfmy
z-TdUwnT5%Us;Xa4e3`n8x3bXh)cyz4f|uQq!cvJD7NSe9Q(fWZ`7W(sc<=BXYuJIi
zRL0pg__f)-7BAqE9A)~p5-N$On-PmI2=Awxzn*xIc;RjpPq`E%^3wh2N5hI$*`7Y~
T2wJGh%4=&2yyOx8E`t65*!k)i

diff --git a/layout/reftests/fonts/math/scripts-8.otf b/layout/reftests/fonts/math/scripts-8.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..fac270e815b2800e4c85b1d0e1ffe442e5d045e0
GIT binary patch
literal 1892
zc%0o;O=uHA6#iy+vrTI3AGHRIWzbk#p>dn2XsHJ+EIsr`u@r@hh8mkl(~X-b+EbyY
zl8T2Oih5HI3L<#%AQC-!QoMLnsCZEnyeLg8HNM%Mq=`SYXJ_-~eecbCZ@$@?oeT{R
z4`CCgp~C1jO@6UuegW|K0lYQM;eiXOuajhdBs(~8WVlb!qX9tI0CsZd#NJ5bqvkon
zoW{?NrDADpR$l<>J@Oq*#AD}H2d~|tv8N;l668=$>)Qx_BMBu^*(+Xy5NbxL^QK}~
z(ol{OWHbl#$yh3WqI>QR+0%fsD{W=6#To1av@bNy!9*zVZ1&dDnfjjZ*rbVKcpYdP
zs?@T1p-4nIiZDjCz?!G3(cm$sho%MCH+aanp}Zvfx~th|M43;7=)Q8+?^S^3#FD#n
zDem-ZF<h>o4iC%THVjJ4;KQuM3h4!jRfO<CVhuhPl-Pp?)+ez}{uD(rO>paXvIJ&m
z!X=3Xoq35>^x=lY8k(3_Vh=cLlUOJJDfGfZ8dqT>iE$*5r8Tr;3>~B+FwjN2!!bZn
zQxq{lPmFAlWmBH$W0aF5M5n6PN?)~;<B2S9AM4-|qiY`@u%?m|6EWUv*=fs;Ws?@g
zWoQC1VVY7i=)^&CjoHa`Hq%Ma{h3b5tfOtB7Iz4Ri4sRQ$)7b`|9-*|M_lqSt;wuu
z+2e5@2^+kdmuDipzcbP)Xs$<Tgr>L2@2-<mX;D1vXh8@gaXUjx<A%`{HVlKWS5WS}
zE2SOp5j*49ny5*==GeSgbo=7_(z#;#-wtPWTW|b7XsWA<(}?0P3ug4OgE3aS_U4)R
z^!f|+C~RYepi<bb7Pe}0e%AV4xm)zBt;cT{{aR}+e3wV|=5l4=ugOvK1aZGU2s8xo
zpfLz<5O12Gii*4G7#!Nz@h@|!It~m9V>@={@=G&$md`IQ=GA=5in;XZr>W<EJl?W2
zv%L6YrlziL<w0|9OU_?gTJOulw_gigbw`SkS}d|KU3xwG2480AodmC>-m`(En?&RM
z2I8V_tfNb~qDGZJS|JtrbTeZ03E{(Z^S21Xq)T_Jc&e=siJ$Jr09yaa%8hKMh>(No
PoVu>Jq$?ir?;_+E?$qiT

diff --git a/layout/reftests/fonts/math/stack-1.otf b/layout/reftests/fonts/math/stack-1.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..8964fb27b3d9d1c6762d0a9bce3e5a1c2b78d9c9
GIT binary patch
literal 1864
zc%0o;O>7fK6#iy+y>^0e00ppwiAE4nK(g651W^<uN~&!Sgn$~QAhn{a)Qt^s*4h{Z
zoFYX%nFvr%EjOros)~B)p{lH&I0d*MByQo>s+D@7je%10&F(nZhzNRR#&6#D-n_s0
z+40!;_!!n;4knxt*Oez1-#rFcj{w|v-SN@W<-cZt*dpc3=zHTI8uqCL%D(~P#MnoB
z^6P)>y+kZI|Jh{Ot6;5p3ox%xceq&aK7V#};Tq?DA?+(tVSH+DAy)DGi{<M1ghPb*
zAr6VMcfJCH=^@e_>>00IxS93;p*#l|Yb*Y2wK<QytnVJ@C4@3%;Qa$PPxTD{jWw1E
zhP&w<W9?kG1PqPnV<_PhEB!*#(KvZ59AQ~$@dz;rUmI!{E=OGafkDxwOzf@|ua~0$
zzp_dh<uao5FKnb<K?*;tXm{YK#sYDCsj)$RRbvy|@IYe=ago$GhIL|}#y0gI(^6Qf
zwj-gJ!h*TZYOKmx(AdQL_)24oHveiIgA~0Q+enEIFajSHTtI*lrcgwcYuJfN>>|&@
z!2nN3Vw6@FX)(?2QC407{nY5ur$oeCHR4w;1f{8BRqmYJCG*a}UODPtEKN^)a>NfR
ze&AJ0KJ8}d;xWk?WSIc7Rd4c4mLU4MVX$h*0~S>XOUbbqi36lg??^X9oDV4~8LmH5
zb^TzfAoDp#9*{Z*(NH#@Ri&+7#spIaoQ+l`8Bzt!g<KVZi9#^Tg-FL4$T^N9R}ZC6
zIHHU`&0%!{p=_yW9Ia56&1N(<AGYp~uwQivJKO8#--2dFtT~54ykfzEA2oy!iPpXg
z^?@B}^q{dtG%`kGtJ&CWT}q0+hsL+fq}g};dNXPDb))Ot#GYDh1tjA&wpa!?dNRPe
z48B{RK_Y`Y8(^x4@9+`~z1bz#m9$+10Yivw+iUgZ`MRjrA1~F-`lcuD^6&q-cKzv3
z8<*!FFFl=)r&3S8@2zdDCA;;~*cK07zpHr1JE&&5u_SVQ*oN)@yQ8-?-~D>i<A1V@
zFWw-gI-74aZ{b#ZSwGlDZT^D${_JPsgM8gLk@u6g-cQv#rG8Qp8<0lds#Qgny|m~L
RQ7ViZX<NLltA7wh&jE%b;2Hn`

diff --git a/layout/reftests/fonts/math/stack-2.otf b/layout/reftests/fonts/math/stack-2.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..4ba05e066c4810600bc5e441ed2b0e83009ebbb1
GIT binary patch
literal 1864
zc%0o;OK1~882)B=vq{^SR;d~>mO)E>K+<h$1xpKRWfifl#ZpBSU21HiO*d|%XitUW
zDT<0G^`_!U1U-m|1W%rPTtx8J-jp7^RGQXD{AYJk6Sb&UXEO7D|NEcEPI~+Mdr^aN
zs4%)rlOKAywGYr{0K7HL{_d0Mk0XHZ1@V#Y?fttIebqGa?*VqOcYkwy>4W-<ggNPt
z4W_LOmZ;AG^$N*$Boo&0uRWJ;lI|&uElCn6NA%T%Mf}EOI(sf)5Q2XjO@Xv^E(2vB
zK^CS-AF<Mjhs~$wh#v=(B^i4(Tb#gVs_zZyIhZg7V)4h*M{7Gip+*zI@H*VoTTW#Q
zK#_=i6u}(U!apPxjg<S`8JZSmGw=~}T@kx**`sV4t*lCz=v50|KSu$cQI*`wrFiLo
z*l@Xm5biHXo6sXMgC7?pR)}7eSjAerlUReF1ts>Oj%|@xC;0)gWSXdLuj?f+qg-bs
z7Uf)$SjA3UlUO60FB1E}S-r$MLTnehU?YR`aFD_flE~5;Hee7NiN;}|g-(Z~o2<sj
zVwk!`yzp|!Ps|qiqzKWi>asKEozze=%Qp;e<Z+{AGw-&?Qp3X*@3NhY?O55AO?IQ?
zVo{P)h*A=aX05?fQ3Br2bc1DG>QGS$x0Dza!_iKo(%X}@xj4E|GE93UYue6Gg2!V9
zZ|5=xp|)r|DoR_ti~&mNkk(rjr;s9O%%!3T3?!UUS_n6cmY87}eDP57guM}wr`aJ+
zz~wa&jb_c|d9mot#i`Q$VfybbVP*T1{y%7{M~dTU#cvkO=%WT>EKu5aCO)veg<2F=
zvqD5EtWgUqwTnU4Fs0ln2GxeXTg9N(P>rgy1I@YI0totZ)O-=#u8jb75!_uGK_G%x
z%b<#g>**4-{oN&(m6Tls28FS;>vH+oi9E~a=O*)Ne#N{w`{A3Z=RZGMK07ft`FX-0
z3eDfE&n?ddtL4(Dz39C4TF{DjP-v<#$zt@db?E=Pqc0`h^s6ek=T{j!@fR`0+1!w{
zgiGybd287y^Jld0U!M@}q}P1~(MF=B_fzyru8~F%%MeDxqE&g8^<>fLqL3Tcla^>%
J7ylq)d<S{<;2Hn`

diff --git a/layout/reftests/fonts/math/stack-3.otf b/layout/reftests/fonts/math/stack-3.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..6ab6b13a730da80dcbd4c8623e7153acfd429a66
GIT binary patch
literal 1864
zc%0o;PizcP82`PQ+1YKown)p0)x6NupXi!yRYKYXl_8>k(3AvWQmeakJDceedTP=*
zZ3S_{4RI2Q1P76glT)=9k+@Y{h=U91qP4y^^R{-;sH^Yod*AQ-`@Z*Q-gfo$bfF3(
zP+_#2CO<N<^#GuK0`ST-dpb_1J`MuDagrk)J9_pg`ic)EzXRCeu7jImOCHpW5$0q+
z(U-E)SfoA&)GMUhnTT5_XFD(5B->N!TN0#Dj_E52i~RM8ROWoZAO!z*8UiWnd>TqO
zK^CS#AGA{OM@>UBB#!{fqO?7fDU4z>)%TL@989<Z4I3Z6Jzm}V8C9A{hRJY4S1Fei
zfFcpaC_*@@g@0<wh>YFt2u%yKPw<g&T@kx*+2ia3npuT#(JSVne$4_rqbj*Km*P$T
z(}&9ygm8aO+kj4q8T_~?u|oW+#41+fwZt0yEGV%Li`f>5b<!UqPo|05_PJ34Gn(tH
z#G;%_606vSYZ7bZGb6DNoYhFIBgA&29X8Uq00&9*BY_O9VIBIgo_Gufn&@;mI>>97
zJO-#)B#S7A;>2iCOp*}Ys&+el!AbTfGJIX%dLA>HHuDa9I5{w2@pjuu+m4k<+T=Gx
zAr?(?290PYF=O?eX(ZtNOgCA^<qj1UcT0&<F&x{dmq&ZL7Q!*NdnLoP2Q#Ma^v8KD
zYVd7b&OxZ9G1e$bo4<@+n$jVww<=C4MbfCtMG@$YJ43V(ZWv8b!!Y>#spJWJJt9xD
zRh)n;Ya$zsnk(}{!5a&2iuZ@<f4YR_^f&u|K&r<IBVu!ZUofMO8jP_(ao?Hv!1m><
zkzdL35hcG$%`ex+f~@Y1a;Fef>-OI&1hu+KRGjPGl+Dh8pg&9Gi{N&31Xvuw-6atO
zBA8eTRb*UCm!M@~mt0m-auFC5##XP%=B7t;ESLK-l~Z%ezM9kTzngmQ+vD2l(Jxcq
zM*X4C*LyYD+H9~=E{$ls?bf8=W$&P{RAP!n>0xWt|8+-SNWNiym*C!#9X_>yoMM?b
zBroD3{i<&+=_T=u_I>sV;Wm2Rml3ZgUVJ}AE0^l22eA}k)XiI!=UGD@^)3pzc|C2B
Kmo)JYBKi+jI^Y@r

diff --git a/layout/reftests/fonts/math/stack-4.otf b/layout/reftests/fonts/math/stack-4.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..8b4ece8ad820d162a19adcefa977b2837e859f1c
GIT binary patch
literal 1864
zc%0o;OK1~882)B=vq@`AwX`*041<>XfTr7|EhsIhmDPi_ilut+wbanWHr=pIrS()O
zo?=n)q~26KiQq*<B<RJH+KUL@>P=DbqBK6^Kf9BfNQ?FAO#b=5|2h9WcG5pE(2rG^
zh6<zCH2JZ)?S}#F6M$EyInZ||^KlIDJtH~Nw`*XZqMvv|@>_r%?LXWWUwg0N0%1<}
zQ$rami`D8=K)pn|-KnH?`p1FU>tuUG)RiKIa$H|eSmbX`Wpa}NgAn{XX$WMj$t;wE
z1X-8{eay-vA0#G9Bu@j%>a0DUE6t#T>U&9c4klcIXv^ldlXcynu}TxkFc)s=ujH}?
zph!e9iV%)z;oq97M#h8g2u%yKPw<g&RS~;z(c|nr60AnJ=rxN`e`Wz5Q<dDCOYx@v
z?Zf2?Lb$uAZNUMF8T>deu|oW^#40x8wZt0yEGV%LYgm`WI_Zy)C(}f2``svk8O=2z
zu_$L&VikLEMPiM7zDw)_XAKhT2(i8Bg^etx;2@1*q>!UEY{3w=5|6_`JDm<kA9<Z4
zk5TFt$s)?3I5AojlO{yBs@Kj=IqBh4j&B*-%Hu|R2k*1brAJ3C-fKHq+p%(KoBYNp
z#G*+?&?*jpJZBA!v=Z=srkgD1a)*jax~0UZ7>*r8)zO}=lW^Q6uVk3^SkAPa;Utg8
z48DWQIS6&O##=>c%a<`oQ#xezR>di$NE&mwC<22?XPg$o4Wm6~7zSTHl{{gOBJwo5
z#R<5wCbH3}xiT-6ys`AAe1Dj})FrHLf3yDwP4!r58VM}1U`8J`7-NC*zBBQG?Jw4$
zxSkawN^yf)T&G<KvgjM-Rw<}P58WsQwP-DB&JMQa^NS$p&r|b7aI-D~tcl?E+6V#>
zyr_pNGH#|z(7CcpE-R_H2n-5i8#m<(3o`{)D14bOsD-Al=EA$5re64Vzj0ya%lx+)
ze<<|zPD8#iAFP#2qxP)l#+=|)@1U^MVxGn5Ve8iabw{5|zHJ4**MLJGR^XTLd|h6~
z6*;Q(i3+NSXSDA>9un@M*S(2&Gx75KDSEZkOcX>t!iX+gmFL+&9?dQaxp_TpnOAi2
H4<hInA~4_@

diff --git a/layout/reftests/fonts/math/stack-5.otf b/layout/reftests/fonts/math/stack-5.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..81f09144361050491fa85f08168eaeb805b0fb6f
GIT binary patch
literal 1864
zc%0o;O=uHA6#iy+vq{^SR;e{&tV1pSLE|<tf>J@PtRnVD4Aq08OASqI(+%4w)l;E(
zN=3z!dQ<Tvf)@`e!ILNd4kCDKZ;A&mm8Pv4-|S9nA}#9GnasTJ{my$cvy+}=vIlh-
zg9@Y5H2JBwyOMx54dA_LCcDmMzYGJum&8Z9_9YJ~`q~Y|e+1Zxo@3i%D<3sZ5ay&m
z)1S3+SfRcE)N3T$pH5k4zjt4`O}b|^cBV<7oYL137V%rt+5Bk0AO!zjngUsCGzX=Z
zAPdu^4_n#P)5NGk{1~9D$k`+L@;G)-e(y-n!GtN$#2*fxuJ8DYI!y$_oA9QdN-A3b
zibUk22<D^~{w1kur0jKPXj+&}!$-_bMeM>=kFw8*vl?Nd*DQMd9tC(#S#obJ#asTD
z4VM*!@NiMO3EdJi_;Fcch3IvORkYxP#2Wl8D6tO>Y^TIJ$&ZsI(?o7ZTrYtct#w{v
zk<Jx~RUE(#i8ZqMCb18kHA<`_#15hpHgdQK2N?_?jXc$`1^w7cGzJ6hbUGYeWOa!w
zhNxS_3onQK#B7mIh7jGVPCIwe$qc0Pd`tgU9y8i^@GkpOW@yObowk#+9V?%)$!>&P
zELvm`ZAcKCxB3U$2zWo!4VHJQLrJCFRHBp&$8H+c-kvN$IOYy7WtjGG-n5;86puv>
zzMIQ62qoHLZ6dYh)99lm9nyMLaSADdMqMhBKwrukp+dM}v_}oY;LC@SC+v-gJk1Vq
z0xqwKXf$gs&&y?RE>A7oAEqyL39H+m^#4IqJyIS+97`0;=%WT>EU>WeOnhKRO7$qM
zW2J~vTCbMYXcIx!Jf++#2i4}IcgjJnxfV4S`nDGeiy-JPQ1eA_w>|<iL~ws)1c3-%
zuYxKfZl+6+_`6FkGpV=;3<_f{8w<sm@ggf0XD5qlv1!hn`Siooi}R0H&y3Gb&X4;;
zp}7Z*h1G>%tt^e&%RP7A2wL?H3Qa90S(F~O4*g$u^p&LBmR1K3S1`B!GG<)b#w&1T
zjQA2Z@oIlY`~Lk2;XU-aHxX?my6}FAUd^@A2x1k&XkIoe&$5v$T3r-!<9gBsTG7Qn
Hh!{TsY>D0+

diff --git a/layout/reftests/fonts/math/stack-6.otf b/layout/reftests/fonts/math/stack-6.otf
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..9beb37cd011d5ec1ece7dafdfb8de59bd0023ae9
GIT binary patch
literal 1864
zc%0o;O=uHA6#iy+vq@`ARa%W2>!8IyXu3^o#Zp17tRl8mtkr{mOAJl4>4t3-?Ws^a
zrJ~|Vy{UK*5xjU137$NuMG(PTy(u2ND2>1I&F-X4iuLE}o6LLPd-L9#H$OY+?d$8s
zJd8qx(Pf(a=!?w<0PQ1ySEkw5eKPZ52=F~6J<`3cZ<nGkT}k>|fF0`H-x6DRzkZxB
zr}5*7jFrWF^$DO}BHQ*<(mL_I=fZUwdqllGMF!=FzMQbg-;~Pa&ISxZ@NXp+$XI8y
zQ1%jJVPg7_l}Q#hjrd3(1(f+&dpK7b!$zv_C5>}1;R=M7-ANp)>->aynn;F;@S5IA
zDJcL&B8pLja##z`SgMEy_qrUK7G@toH7HjVu?rVH$=)N*YJ`hkGaWTM3-Fk#<lbD0
zH~owcmn#V2-n4ZMdL(A><GjQQ$;%R}ScTUTYw)w6#6B!w?Go!`KS-WT6SeJeqXcF&
z*J+7GITs{Wu>)5m*2w3Z#6ECVFR_jg+lemN$l@Fvq%nXLa<qnZNMJq57!0)1>2P$D
z*9dtGQnN@GQ4YlkZc$8{5Z$USJA2Ma52SK@U1B|t8Lb<6w>^>`9JF|s?PP7o%B5}c
z8>SG8COL&>w3C{%5~rF8ct6ukmUE>;MJ3%*qErk=2leV`&(=mb=60`SnD$W4w4H$@
zk3|jM!Q~u;+L~j{qO`fo=%*<i8ueDiDWymnb)_f*{Yht-7QzjqHEI|JpF5R2VXsHz
zX?BVeaCJ>&Bd)nRFO@uAdQ-kXO#js-tfoJW{|BUcqBM#)ez9OiA2k?bf%3jH@qz6r
z)}gqZ6(dS<g<4#qjR#rd8|79hs5b7qQ3`5}wWvAM-;&QygP=c8<cr{DT?AMV!R>_+
z1R{982&%}qmM%ft-(7N9NySBAP#9aaI$xL?E3iW0^JGCSEdF9nz58M6g|819rp7)`
zejW3NLSOFI=Nt0DTDdf$r(14J2wC+Giji7OvM4=lo%+A-=rbud{N63No7lC#%o&%y
z@d{j~+4guvuZU-~@82I1-a@bYVv<cH%kQUX)mjtvAQmBv#yP9<JnPA$$weVIuV*dG
KiYER+ME?m$&E6aU

diff --git a/layout/reftests/fonts/math/stretchy.otf b/layout/reftests/fonts/math/stretchy.otf
index b019fe3dc4ce5ceaabe4514b867d2520d7bebc97..3ce7766433a26e3a2ae361e561431f7f619cb12b
GIT binary patch
literal 3236
zc%0o<Yitx%6h3Eny4%OFT?&*ULo+Q%%B$U79)$`<C@g|4#nAAB5MbL5Y)QAfZnxzT
zV=6U4Srw$dz>3&FB!=~$H5#q{0D=jx5RE@1D2WL%gb>rxEnDpR-I>{K3lTB?b9V21
z=Y01&=bo9l_s-PR*49uCwUd=xm0qt}c6HzfqKvsj(qyl<wt8paPBT%~N+MFKm)Aaf
zXXBLH@V60JuGDNO^W=?R+DgPK`nS~we4)y=nrlSXQ{d|Sny+Ezs!vy=?`yP0eh_nN
zXC`3xqs{OKBD)<6V3F*?DH8DQ4$-vrFu4FHTeB~qEiV5u48I-Ym4t#Vkz@zWM}0E-
zRbn9}(!Q^lv^96>UCNO}GP+zavt|VQdP)XL2H<9rg^U9+7U66zxl1&36TM7hk7-2f
z^)pG99PXzKL>#ePfPc_HzD4snOXRUx(@`SJwlR6WBXzc7jAb!~9~ntCufRc{rP-OZ
z&a@fz?l)}=LdQ(oO4I4KX-kyJ(@i^roScfafqwx?mQW#8=~2RFa#E{lTS%rurfnrJ
zoiuF;dB&S|2B|#Pv~A$GQY8f`M0+SqjkJUO6u~u=P(958ddNj?S^%pWs=ZJ&;pc-d
zqQZz1XCGo3VPRHP219$ojXV4iwWNNQ>T$UjsMW!}jZIBHwK5nE1;f5bV-UI)goH`M
zxgJCA0TBsnk$OL@YS0bH*Gd66T0>(i(5t79=om(snqFKf%2TNV?ZJEoyO8EVH7|V`
z<PA1Qyut7eP4$$z)Cx5<D$IrRJo7}okF0GY=r9Dv)v8D<5|`>IN}-KfxCIxex?Jv3
zm&>I-GMjjYMpMkEyjeUM-IwSYv552;E|FT)U39YO)NCc06tk?T3*INQrzVrh8`rmA
zZ@6Cn;~x*scec?(OW?udpZfm?hq;oI?P8C4_+XMGV&<&$Q(+6pn!#KeT*QOrmchl=
z!O2qL4a<q7Y%P4gJ1I+r*_73`u`C)*8?rsB^z|qu1NdhstmP_1PKA$+S4dT?H}j~_
zqA&hj%EtyYgXUmHF2Mt?q7AeO4}A-^m^w`Q?X(jUs|B;<MQq>u=oM@iG5VaoX>D%w
zxR+EKu+o5426%N??lQn_fX9G^29*24;oz>;P(yQFizcY$?iB`9`dw`<zq`%t_q2JM
zwCxdn?fL_a4RygtBp8SULv3)X7F8{-a=RXHai{L&=y}e(pI_zI_y9-wb$)~2<b!;O
z-{QmE$#3&J{4T%8@ADBp${%nSf5^x9BR<X_(=>74p2T)kfqUh{cJnfI(h2IJGjx@%
z({D7u7FM{Jm+)%d!Vx4p#ozMJe2a%HIZC1;+8gia<=)=-`Ce;p{$OeR_xq)`-l3jJ
z@s9ZUp$@xac!fh5>@JRL9PP6fOMP)|y3L`xaSeW4i)%xg&7s_j7~~~EUIKZ^=7{#`
zs;C}ihvu5l6ib8UaqWIN`pq;^GYupOuPHeW$#EgMl#=L4?GD2;QlvdyEsBjwiC7{w
z9J4zHqLP{|m_*Dv90RRndWK^*!3*21Yla2OQMf__fUCqW+stT1>M#_dQ(h}N`+D?F
z-E+gU3lTyDlQ<nUB#F}*Myz0m!8+@}4hz<KF~utKnpD6SiPNe6%&t^&yD@;l?PAba
zLMAP*)dv7d%FU(`7KIpn&Wq3&bc+AY0BS54hOeF#|6iVhUsMKPUysU9*>*>~VWMI`
zHz_J-$F=Of{(f0b#BzZ5TI6w9qZ7myAnUisjUntg#@2x2!m{qm0>^xRh@Ncvl}qtK
zvD8ND*?+YoT{Lm_V`z_}jO~x1n{Q}!OxdGyjN#{xYNO&Ad)A*{!Cr=qDjzrlnEGyE
zeft{i%|MeWj|!;pZ>utt6Zs`RjA$Fagi7gYyu#PvJ-P`S-cGz2_t615tk-3zL)fu%
zr6*{7riUiT&*{AI1qx1};M>g+rmE-0p!jtmhXXNA==01R4l{?-%pv&GW}O){S%AD2
zrwOLTG(}hionyFywC=yfO-%cFX-$4QZiJikpW}?@mO*yP!ko>)GaCorhGxNClEinV
u_=c54g?_Xv2&pi!+dzwKV5$jirh5caO<psCqKTTEbw*41>KP*Oh5i?IBuXX#

diff --git a/layout/reftests/mathml/opentype-axis-height.html b/layout/reftests/mathml/opentype-axis-height.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/mathml/opentype-axis-height.html
@@ -0,0 +1,50 @@
+<!doctype html>
+<html class="reftest-wait">
+  <head>
+    <title>Open Type MATH - axis-height</title>
+    <meta charset="utf-8"/>
+    <style type="text/css">
+      math {
+        font-size: 10px;
+      }
+      @font-face {
+        font-family: axis-height-1;
+        src: url(../fonts/math/axis-height-1.otf);
+      }
+      @font-face {
+        font-family: axis-height-2;
+        src: url(../fonts/math/axis-height-2.otf);
+      }
+    </style>
+    <script type="text/javascript">
+      function assert(cond, msg) { if (!cond) { throw msg; } }
+
+      var epsilon = 5;
+      function almostEqual(x, y) { return Math.abs(x - y) < epsilon; }
+    
+      function getBox(aId) {
+        return document.getElementById(aId).getBoundingClientRect();
+      }
+      
+      function doTest() {
+        assert(almostEqual(getBox("plus1").top - getBox("plus2").top, 10 * 20),
+              "Bad AxisHeight");
+
+        document.body.innerHTML = "Pass";
+        document.documentElement.removeAttribute("class");
+      }
+      window.addEventListener("MozReftestInvalidate", doTest, false);
+    </script>
+  </head>
+  <body>
+    <p>
+      <math style="font-family: axis-height-1;">
+        <mo id="plus1">+</mo>
+      </math>
+      <math style="font-family: axis-height-2;">
+        <mo id="plus2">+</mo>
+      </math>
+    </p>
+
+  </body>
+</html>
diff --git a/layout/reftests/mathml/opentype-fraction.html b/layout/reftests/mathml/opentype-fraction.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/mathml/opentype-fraction.html
@@ -0,0 +1,179 @@
+<!doctype html>
+<html class="reftest-wait">
+  <head>
+    <title>Open Type MATH - fraction</title>
+    <meta charset="utf-8"/>
+    <style type="text/css">
+      math {
+        font-size: 10px;
+      }
+      @font-face {
+        font-family: fraction-1;
+        src: url(../fonts/math/fraction-1.otf);
+      }
+      @font-face {
+        font-family: fraction-2;
+        src: url(../fonts/math/fraction-2.otf);
+      }
+      @font-face {
+        font-family: fraction-3;
+        src: url(../fonts/math/fraction-3.otf);
+      }
+      @font-face {
+        font-family: fraction-4;
+        src: url(../fonts/math/fraction-4.otf);
+      }
+      @font-face {
+        font-family: fraction-5;
+        src: url(../fonts/math/fraction-5.otf);
+      }
+      @font-face {
+        font-family: fraction-6;
+        src: url(../fonts/math/fraction-6.otf);
+      }
+      @font-face {
+        font-family: fraction-7;
+        src: url(../fonts/math/fraction-7.otf);
+      }
+      @font-face {
+        font-family: fraction-8;
+        src: url(../fonts/math/fraction-8.otf);
+      }
+      @font-face {
+        font-family: fraction-9;
+        src: url(../fonts/math/fraction-9.otf);
+      }
+    </style>
+    <script type="text/javascript">
+      function assert(cond, msg) { if (!cond) { throw msg; } }
+
+      var epsilon = 5;
+      function almostEqual(x, y) { return Math.abs(x - y) < epsilon; }
+    
+      function getBox(aId) {
+        return document.getElementById(aId).getBoundingClientRect();
+      }
+      
+      function doTest() {
+
+        /* inline style */
+        var ref = getBox("ref").height;
+
+        assert(almostEqual(getBox("d1").top - getBox("n1").bottom, ref * 20),
+               "Bad FractionRuleThickness");
+                                                            
+        assert(almostEqual(getBox("n1").top, getBox("n2").top) &&
+               almostEqual(getBox("d2").top - getBox("n2").bottom, ref * 10.5),
+               "Bad FractionNumeratorGapMin");
+
+        assert(almostEqual(getBox("d1").bottom, getBox("d3").bottom) &&
+               almostEqual(getBox("d3").top - getBox("n3").bottom, ref * 10.5),
+               "Bad FractionDenominatorGapMin");
+
+        assert(almostEqual(getBox("ref").top - getBox("n4").top, ref*3),
+               "Bad FractionNumeratorShiftUp");
+
+        assert(almostEqual(getBox("d5").bottom - getBox("ref").bottom, ref*3),
+               "Bad FractionDenominatorShiftDown");
+
+        /* display style */
+        ref = getBox("dref").height;
+
+        assert(almostEqual(getBox("dd1").top - getBox("dn1").bottom, ref * 20),
+               "Bad FractionRuleThickness");
+
+        assert(almostEqual(getBox("dn1").top, getBox("n6").top) &&
+               almostEqual(getBox("d6").top - getBox("n6").bottom, ref * 10.5),
+               "Bad FractionNumeratorDisplayStyleGapMin");
+
+        assert(almostEqual(getBox("dd1").bottom, getBox("d7").bottom) &&
+               almostEqual(getBox("d7").top - getBox("n7").bottom, ref * 10.5),
+               "Bad FractionDenominatorDisplayStyleGapMin");
+
+        assert(almostEqual(getBox("dref").top - getBox("n8").top, ref*3),
+               "Bad FractionNumeratorDisplayStyleShiftUp");
+
+        assert(almostEqual(getBox("d9").bottom - getBox("dref").bottom, ref*3),
+               "Bad FractionDenominatorDisplayStyleShiftDown");
+
+        document.body.innerHTML = "Pass";
+        document.documentElement.removeAttribute("class");
+      }
+      window.addEventListener("MozReftestInvalidate", doTest, false);
+    </script>
+  </head>
+  <body>
+    <p>
+      <math>
+        <mspace id="ref" height="1em" width="1em" mathbackground="green"/>
+      </math>
+      <math style="font-family: fraction-1;">
+        <mfrac>
+          <mspace id="n1" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d1" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math style="font-family: fraction-2;">
+        <mfrac>
+          <mspace id="n2" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d2" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math style="font-family: fraction-3;">
+        <mfrac>
+          <mspace id="n3" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d3" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math style="font-family: fraction-4;">
+        <mfrac>
+          <mspace id="n4" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d4" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math style="font-family: fraction-5;">
+        <mfrac>
+          <mspace id="n5" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d5" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+    </p>
+
+    <p>
+      <math displaystyle="true">
+        <mspace id="dref" height="1em" width="1em" mathbackground="green"/>
+      </math>
+      <math displaystyle="true" style="font-family: fraction-1;">
+        <mfrac>
+          <mspace id="dn1" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="dd1" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math displaystyle="true" style="font-family: fraction-6;">
+        <mfrac>
+          <mspace id="n6" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d6" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math displaystyle="true" style="font-family: fraction-7;">
+        <mfrac>
+          <mspace id="n7" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d7" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math displaystyle="true" style="font-family: fraction-8;">
+        <mfrac>
+          <mspace id="n8" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d8" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math displaystyle="true" style="font-family: fraction-9;">
+        <mfrac>
+          <mspace id="n9" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d9" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+    </p>
+
+  </body>
+</html>
diff --git a/layout/reftests/mathml/opentype-limits.html b/layout/reftests/mathml/opentype-limits.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/mathml/opentype-limits.html
@@ -0,0 +1,165 @@
+<!doctype html>
+<html class="reftest-wait">
+  <head>
+    <title>Open Type MATH - limits</title>
+    <meta charset="utf-8"/>
+    <style type="text/css">
+      math {
+        font-size: 10px;
+      }
+      @font-face {
+        font-family: limits-1;
+        src: url(../fonts/math/limits-1.otf);
+      }
+      @font-face {
+        font-family: limits-2;
+        src: url(../fonts/math/limits-2.otf);
+      }
+      @font-face {
+        font-family: limits-3;
+        src: url(../fonts/math/limits-3.otf);
+      }
+      @font-face {
+        font-family: limits-4;
+        src: url(../fonts/math/limits-4.otf);
+      }
+      @font-face {
+        font-family: limits-5;
+        src: url(../fonts/math/limits-5.otf);
+      }
+    </style>
+    <script type="text/javascript">
+      function assert(cond, msg) { if (!cond) { throw msg; } }
+
+      var epsilon = 5;
+      function almostEqual(x, y) { return Math.abs(x - y) < epsilon; }
+    
+      function getBox(aId) {
+        return document.getElementById(aId).getBoundingClientRect();
+      }
+      
+      function doTest() {
+
+        assert(almostEqual(getBox("base1").top - getBox("over1").bottom,
+                           7 * 10) &&
+               almostEqual(getBox("base2").top - getBox("over2").bottom,
+                           7 * 10), "Bad UpperLimitGapMin");
+
+        assert(almostEqual(getBox("under3").top - getBox("base3").bottom,
+                           5 * 10) &&
+               almostEqual(getBox("under4").top - getBox("base4").bottom,
+                           5 * 10), "Bad LowerLimitGapMin");
+
+        assert(almostEqual(getBox("ref3").top - getBox("over5").bottom,
+                           9 * 10) &&
+               almostEqual(getBox("ref3").top - getBox("over6").bottom,
+                           9 * 10), "UpperLimitBaselineRiseMin");
+
+        assert(almostEqual(getBox("under7").top - getBox("ref4").bottom,
+                           2 * 10) &&
+               almostEqual(getBox("under8").top - getBox("ref4").bottom,
+                           2 * 10), "LowerLimitBaselineDropMin");
+
+        assert(almostEqual(getBox("base9").top - getBox("over9").bottom,
+                           (6 - 2) * 10) &&
+               almostEqual(getBox("base10").top - getBox("over10").bottom,
+                           (6 - 2) * 10), "Bad AccentBaseHeight");
+
+        document.body.innerHTML = "Pass";
+        document.documentElement.removeAttribute("class");
+      }
+      window.addEventListener("MozReftestInvalidate", doTest, false);
+    </script>
+  </head>
+  <body>
+    <p>
+      <math style="font-family: limits-1;" displaystyle="true">
+        <mover>
+          <mo id="base1">∑</mo>
+          <mspace id="over1" height="1em" width="1em" mathbackground="red"/>
+        </mover>
+      </math>
+      <math style="font-family: limits-1;" displaystyle="true">
+        <munderover>
+          <mo id="base2">∑</mo>
+          <mspace id="under2" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="over2" height="1em" width="1em" mathbackground="red"/>
+        </munderover>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: limits-2;" displaystyle="true">
+        <munder>
+          <mo id="base3">∑</mo>
+          <mspace id="under3" height="1em" width="1em" mathbackground="red"/>
+        </munder>
+      </math>
+      <math style="font-family: limits-2;" displaystyle="true">
+        <munderover>
+          <mo id="base4">∑</mo>
+          <mspace id="under4" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="over4" height="1em" width="1em" mathbackground="red"/>
+        </munderover>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: limits-3;" displaystyle="true">
+        <mspace id="ref3" height="1em" width="1em" mathbackground="green"/>
+      </math>
+      <math style="font-family: limits-3;" displaystyle="true">
+        <mover>
+          <mo id="base5">∑</mo>
+          <mspace id="over5" height="1em" width="1em" mathbackground="red"/>
+        </mover>
+      </math>
+      <math style="font-family: limits-3;" displaystyle="true">
+        <munderover>
+          <mo id="base6">∑</mo>
+          <mspace id="under6" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="over6" height="1em" width="1em" mathbackground="red"/>
+        </munderover>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: limits-4;" displaystyle="true">
+        <mspace id="ref4" height="1em" width="1em" mathbackground="green"/>
+      </math>
+      <math style="font-family: limits-4;" displaystyle="true">
+        <munder>
+          <mo id="base7">∑</mo>
+          <mspace id="under7" height="1em" width="1em" mathbackground="red"/>
+        </munder>
+      </math>
+      <math style="font-family: limits-4;" displaystyle="true">
+        <munderover>
+          <mo id="base8">∑</mo>
+          <mspace id="under8" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="over8" height="1em" width="1em" mathbackground="red"/>
+        </munderover>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: limits-5;" displaystyle="true">
+        <mspace id="ref5" height="1em" width="1em" mathbackground="green"/>
+      </math>
+      <math style="font-family: limits-5;" displaystyle="true">
+        <mover>
+          <mspace id="base9" height="2em" width="2em" mathbackground="blue"/>
+          <mo id="over9" stretchy="false">~</mo>
+        </mover>
+      </math>
+      <math style="font-family: limits-5;" displaystyle="true">
+        <munderover>
+          <mspace id="base10" height="2em" width="2em" mathbackground="blue"/>
+          <mspace id="under10" height="1em" width="1em" mathbackground="red"/>
+          <mo id="over10" stretchy="false">~</mo>
+        </munderover>
+      </math>
+    </p>
+
+  </body>
+</html>
diff --git a/layout/reftests/mathml/opentype-radical.html b/layout/reftests/mathml/opentype-radical.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/mathml/opentype-radical.html
@@ -0,0 +1,183 @@
+<!doctype html>
+<html class="reftest-wait">
+  <head>
+    <title>Open Type MATH - radical</title>
+    <meta charset="utf-8"/>
+    <style type="text/css">
+      math {
+        font-size: 10px;
+      }
+      @font-face {
+        font-family: radical-1;
+        src: url(../fonts/math/radical-1.otf);
+      }
+      @font-face {
+        font-family: radical-2;
+        src: url(../fonts/math/radical-2.otf);
+      }
+      @font-face {
+        font-family: radical-3;
+        src: url(../fonts/math/radical-3.otf);
+      }
+      @font-face {
+        font-family: radical-4;
+        src: url(../fonts/math/radical-4.otf);
+      }
+      @font-face {
+        font-family: radical-5;
+        src: url(../fonts/math/radical-5.otf);
+      }
+      @font-face {
+        font-family: radical-6;
+        src: url(../fonts/math/radical-6.otf);
+      }
+      @font-face {
+        font-family: radical-7;
+        src: url(../fonts/math/radical-7.otf);
+      }
+    </style>
+    <script type="text/javascript">
+      function assert(cond, msg) { if (!cond) { throw msg; } }
+
+      var epsilon = 5;
+      function almostEqual(x, y) { return Math.abs(x - y) < epsilon; }
+    
+      function getBox(aId) {
+        return document.getElementById(aId).getBoundingClientRect();
+      }
+      
+      function doTest() {
+          assert(almostEqual(getBox("inner1").top -
+                 getBox("outer1").top, 5*10) &&
+                 almostEqual(getBox("inner2").top -
+                 getBox("outer2").top, 5*10) &&
+                 almostEqual(getBox("inner3").top -
+                 getBox("outer3").top, 5*10),
+                 "Bad RadicalRuleThickness");
+
+        assert(almostEqual(getBox("inner4").top -
+                 getBox("outer4").top, (7+1)*10) &&
+                 almostEqual(getBox("inner5").top -
+                 getBox("outer5").top, (7+1)*10) &&
+                 almostEqual(getBox("inner6").top -
+                 getBox("outer6").top, (7+1)*10),
+               "Bad RadicalExtraAscender");
+
+        assert(almostEqual(getBox("inner7").top -
+                 getBox("outer7").top, (3+1)*10) &&
+                 almostEqual(getBox("inner7").top -
+                 getBox("outer8").top, (3+1)*10) &&
+                 almostEqual(getBox("inner8").top -
+                 getBox("outer9").top, (3+1)*10),
+               "Bad RadicalVerticalGap");
+
+        assert(almostEqual(getBox("inner10").top -
+                 getBox("outer10").top, (9+1)*10) &&
+                 almostEqual(getBox("inner11").top -
+                 getBox("outer11").top, (9+1)*10) &&
+                 almostEqual(getBox("inner12").top -
+                 getBox("outer12").top, (9+1)*10),
+              "Bad RadicalDisplayStyleVerticalGap");
+
+        assert(almostEqual(getBox("base5").bottom - getBox("index5").bottom,
+               (getBox("base5").bottom - getBox("root5").top) * .25),
+               "Bad RadicalDegreeBottomRaisePercent")
+
+        assert(almostEqual(getBox("index6").left - getBox("root6").left,
+               10 * 5), "Bad RadicalKernBeforeDegree")
+
+        assert(almostEqual(getBox("base7").left - getBox("index7").right,
+               10 * (7+1)), "Bad RadicalKernAfterDegree")
+        document.body.innerHTML = "Pass";
+        document.documentElement.removeAttribute("class");
+      }
+      window.addEventListener("MozReftestInvalidate", doTest, false);
+    </script>
+  </head>
+  <body>
+    <p>
+      <math style="font-family: radical-1;">
+        <msqrt id="outer1" mathbackground="green">
+          <mspace id="inner1" width="1em" height="1em" mathbackground="red"/>
+        </msqrt>
+        <menclose id="outer2" notation="radical" mathbackground="green">
+          <mspace id="inner2" width="1em" height="1em" mathbackground="red"/>
+        </menclose>
+        <mroot id="outer3" mathbackground="green">
+          <mspace id="inner3" width="1em" height="1em" mathbackground="red"/>
+          <mspace/>
+        </mroot>
+      </math>
+    </p>
+    <p>
+      <math style="font-family: radical-2;">
+        <msqrt id="outer4" mathbackground="green">
+          <mspace id="inner4" width="1em" height="1em" mathbackground="red"/>
+        </msqrt>
+        <menclose id="outer5" notation="radical" mathbackground="green">
+          <mspace id="inner5" width="1em" height="1em" mathbackground="red"/>
+        </menclose>
+        <mroot id="outer6" mathbackground="green">
+          <mspace id="inner6" width="1em" height="1em" mathbackground="red"/>
+          <mspace/>
+        </mroot>
+      </math>
+    </p>
+    <p>
+      <math style="font-family: radical-3;">
+        <msqrt id="outer7" mathbackground="green">
+          <mspace id="inner7" width="1em" height="1em" mathbackground="red"/>
+        </msqrt>
+        <menclose id="outer8" notation="radical" mathbackground="green">
+          <mspace id="inner8" width="1em" height="1em" mathbackground="red"/>
+        </menclose>
+        <mroot id="outer9" mathbackground="green">
+          <mspace id="inner9" width="1em" height="1em" mathbackground="red"/>
+          <mspace/>
+        </mroot>
+      </math>
+    </p>
+    <p>
+      <math style="font-family: radical-4;" displaystyle="true">
+        <msqrt id="outer10" mathbackground="green">
+          <mspace id="inner10" width="1em" height="1em" mathbackground="red"/>
+        </msqrt>
+        <menclose id="outer11" notation="radical" mathbackground="green">
+          <mspace id="inner11" width="1em" height="1em" mathbackground="red"/>
+        </menclose>
+        <mroot id="outer12" mathbackground="green">
+          <mspace id="inner12" width="1em" height="1em" mathbackground="red"/>
+          <mspace/>
+        </mroot>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: radical-5;">
+        <mroot id="root5" mathbackground="green">
+          <mspace id="base5" width="1em" height="10em" mathbackground="red"/>
+          <mspace id="index5" width="1em" height="1em" mathbackground="blue"/>
+        </mroot>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: radical-6;">
+        <mroot id="root6" mathbackground="green">
+          <mspace id="base6" width="1em" height="10em" mathbackground="red"/>
+          <mspace id="index6" width="1em" height="1em" mathbackground="blue"/>
+        </mroot>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: radical-7;">
+        <mroot id="root7" mathbackground="green">
+          <mspace id="base7" width="1em" height="10em" mathbackground="red"/>
+          <mspace id="index7" width="1em" height="1em" mathbackground="blue"/>
+        </mroot>
+      </math>
+    </p>
+
+  </body>
+</html>
diff --git a/layout/reftests/mathml/opentype-scripts.html b/layout/reftests/mathml/opentype-scripts.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/mathml/opentype-scripts.html
@@ -0,0 +1,260 @@
+<!doctype html>
+<html class="reftest-wait">
+  <head>
+    <title>Open Type MATH - scripts</title>
+    <meta charset="utf-8"/>
+    <style type="text/css">
+      math {
+        font-size: 10px;
+      }
+      @font-face {
+        font-family: scripts-1;
+        src: url(../fonts/math/scripts-1.otf);
+      }
+      @font-face {
+        font-family: scripts-2;
+        src: url(../fonts/math/scripts-2.otf);
+      }
+      @font-face {
+        font-family: scripts-3;
+        src: url(../fonts/math/scripts-3.otf);
+      }
+      @font-face {
+        font-family: scripts-4;
+        src: url(../fonts/math/scripts-4.otf);
+      }
+      @font-face {
+        font-family: scripts-5;
+        src: url(../fonts/math/scripts-5.otf);
+      }
+      @font-face {
+        font-family: scripts-6;
+        src: url(../fonts/math/scripts-6.otf);
+      }
+      @font-face {
+        font-family: scripts-7;
+        src: url(../fonts/math/scripts-7.otf);
+      }
+      @font-face {
+        font-family: scripts-8;
+        src: url(../fonts/math/scripts-8.otf);
+      }
+    </style>
+    <script type="text/javascript">
+      function assert(cond, msg) { if (!cond) { throw msg; } }
+
+      var epsilon = 5;
+      function almostEqual(x, y) { return Math.abs(x - y) < epsilon; }
+    
+      function getBox(aId) {
+        return document.getElementById(aId).getBoundingClientRect();
+      }
+      
+      function doTest() {
+        assert(almostEqual(getBox("ref1").left - getBox("sub1").right, 3*10) &&
+              almostEqual(getBox("ref2").left - getBox("sup2").right, 3*10) &&
+              almostEqual(getBox("sup32").left - getBox("sup31").right, 3*10) &&
+              almostEqual(getBox("ref3").left - getBox("sup32").right, 3*10),
+              "SpaceAfterScript");
+
+
+        assert(almostEqual(getBox("ref4").bottom -
+                           getBox("sup41").bottom, 7 * 10) &&
+               almostEqual(getBox("ref4").bottom -
+                           getBox("sup42").bottom, 7 * 10) &&
+               almostEqual(getBox("ref4").bottom -
+                           getBox("sup43").bottom, 7 * 10) &&
+               almostEqual(getBox("ref4").bottom -
+                           getBox("sup44").bottom, 7 * 10),
+               "Bad SuperscriptShiftUp")
+
+        assert(almostEqual(getBox("ref5").bottom -
+                           getBox("sup51").bottom, 5 * 10) &&
+               almostEqual(getBox("ref5").bottom -
+                           getBox("sup52").bottom, 5 * 10) &&
+               almostEqual(getBox("ref5").bottom -
+                           getBox("sup53").bottom, 5 * 10) &&
+               almostEqual(getBox("ref5").bottom -
+                           getBox("sup54").bottom, 5 * 10),
+               "Bad SuperscriptShiftUpCramped")
+
+        assert(almostEqual(getBox("ref6").bottom -
+                           getBox("sub61").bottom, -6 * 10) &&
+               almostEqual(getBox("ref6").bottom -
+                           getBox("sub62").bottom, -6 * 10) &&
+               almostEqual(getBox("ref6").bottom -
+                           getBox("sub63").bottom, -6 * 10) &&
+               almostEqual(getBox("ref6").bottom -
+                           getBox("sub64").bottom, -6 * 10),
+               "Bad SubscriptShiftDown")
+
+        assert(almostEqual(getBox("sub7").top -
+                           getBox("sup7").bottom, 11 * 10),
+               "Bad SubSuperscriptGapMin");
+
+      assert(almostEqual(getBox("sub8").top -
+                         getBox("sup8").bottom, 11 * 10) &&
+             almostEqual(getBox("ref8").bottom -
+                         getBox("sup8").bottom, 3 * 10),
+               "Bad SuperscriptBottomMaxWithSubscript");
+
+      assert(almostEqual(getBox("ref9").top, getBox("sub9").top),
+            "Bad SubscriptTopMax");
+
+      assert(almostEqual(getBox("ref10").bottom - getBox("sup10").bottom,
+             9 * 10), "Bad SuperscriptBottomMin");
+
+        document.body.innerHTML = "Pass";
+        document.documentElement.removeAttribute("class");
+      }
+      window.addEventListener("MozReftestInvalidate", doTest, false);
+    </script>
+  </head>
+  <body>
+
+    <p>
+      <math style="font-family: scripts-1;">
+        <msub>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="sub1" height="1em" width="1em" mathbackground="red"/>
+        </msub>
+        <mspace id="ref1" height="1em" width="1em" mathbackground="green"/>
+      </math>
+      <math style="font-family: scripts-1;">
+        <msup>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="sup2" height="1em" width="1em" mathbackground="red"/>
+        </msup>
+        <mspace id="ref2" height="1em" width="1em" mathbackground="green"/>
+      </math>
+      <math style="font-family: scripts-1;">
+        <mmultiscripts>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <none/>
+          <mspace id="sup31" height="1em" width="1em" mathbackground="red"/>
+          <none/>
+          <mspace id="sup32" height="1em" width="1em" mathbackground="red"/>
+        </mmultiscripts>
+        <mspace id="ref3" height="1em" width="1em" mathbackground="green"/>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: scripts-2;">
+        <mspace id="ref4" height="1em" width="1em" mathbackground="green"/>
+        <msup>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="sup41" height="1em" width="1em" mathbackground="red"/>
+        </msup>
+        <msubsup>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace height="1em" width="1em" mathbackground="red"/>
+          <mspace id="sup42" height="1em" width="1em" mathbackground="red"/>
+        </msubsup>
+        <mmultiscripts>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <none/>
+          <mspace id="sup43" height="1em" width="1em" mathbackground="red"/>
+          <none/>
+          <mspace id="sup44" height="1em" width="1em" mathbackground="red"/>
+        </mmultiscripts>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: scripts-3;">
+        <msqrt>
+          <mspace id="ref5" height="1em" width="1em" mathbackground="green"/>
+          <msup>
+            <mspace height="2em" width="2em" mathbackground="blue"/> 
+            <mspace id="sup51" height="1em" width="1em" mathbackground="red"/>
+          </msup>
+          <msubsup>
+            <mspace height="2em" width="2em" mathbackground="blue"/> 
+            <mspace height="1em" width="1em" mathbackground="red"/>
+            <mspace id="sup52" height="1em" width="1em" mathbackground="red"/>
+          </msubsup>
+          <mmultiscripts>
+            <mspace height="2em" width="2em" mathbackground="blue"/> 
+            <mspace height="1em" width="1em" mathbackground="red"/>
+            <mspace id="sup53" height="1em" width="1em" mathbackground="red"/>
+            <mspace height="1em" width="1em" mathbackground="red"/>
+            <mspace id="sup54" height="1em" width="1em" mathbackground="red"/>
+          </mmultiscripts>
+        </msqrt>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: scripts-4;">
+        <mspace id="ref6" height="1em" width="1em" mathbackground="green"/>
+        <msub>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="sub61" height="1em" width="1em" mathbackground="red"/>
+        </msub>
+        <msubsup>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="sub62" height="1em" width="1em" mathbackground="red"/>
+          <mspace height="1em" width="1em" mathbackground="red"/>
+        </msubsup>
+        <mmultiscripts>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="sub63" height="1em" width="1em" mathbackground="red"/>
+          <mspace height="1em" width="1em" mathbackground="red"/>
+          <mspace id="sub64" height="1em" width="1em" mathbackground="red"/>
+          <mspace height="1em" width="1em" mathbackground="red"/>
+        </mmultiscripts>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: scripts-5;">
+        <msubsup>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="sub7" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="sup7" height="1em" width="1em" mathbackground="red"/>
+        </msubsup>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: scripts-6;">
+        <mspace id="ref8" height="1em" width="1em" mathbackground="green"/>
+        <msubsup>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="sub8" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="sup8" height="1em" width="1em" mathbackground="red"/>
+        </msubsup>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: scripts-7;">
+        <msub>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="ref9" height="5em"
+                  width="1em" mathbackground="green"/>
+        </msub>
+        <msub>
+          <mspace height="2em" width="2em" mathbackground="blue"/> 
+          <mspace id="sub9" height="9em"
+                  width="1em" mathbackground="red"/>
+        </msub>
+      </math>
+    </p>
+
+    <p>
+      <math style="font-family: scripts-8;">
+        <mspace id="ref10" height="1em"
+                width="1em" mathbackground="green"/>
+        <msup>
+          <mspace id="base10" height="2em"
+                  width="2em" mathbackground="blue"/>
+          <mspace id="sup10" height="1em"
+                  width="1em" mathbackground="red"/>
+        </msup>
+      </math>
+    </p>
+
+  </body>
+</html>
diff --git a/layout/reftests/mathml/opentype-stack.html b/layout/reftests/mathml/opentype-stack.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/mathml/opentype-stack.html
@@ -0,0 +1,127 @@
+<!doctype html>
+<html class="reftest-wait">
+  <head>
+    <title>Open Type MATH - stack</title>
+    <meta charset="utf-8"/>
+    <style type="text/css">
+      math {
+        font-size: 10px;
+      }
+      @font-face {
+        font-family: stack-1;
+        src: url(../fonts/math/stack-1.otf);
+      }
+      @font-face {
+        font-family: stack-2;
+        src: url(../fonts/math/stack-2.otf);
+      }
+      @font-face {
+        font-family: stack-3;
+        src: url(../fonts/math/stack-3.otf);
+      }
+      @font-face {
+        font-family: stack-4;
+        src: url(../fonts/math/stack-4.otf);
+      }
+      @font-face {
+        font-family: stack-5;
+        src: url(../fonts/math/stack-5.otf);
+      }
+      @font-face {
+        font-family: stack-6;
+        src: url(../fonts/math/stack-6.otf);
+      }
+    </style>
+    <script type="text/javascript">
+      function assert(cond, msg) { if (!cond) { throw msg; } }
+
+      var epsilon = 5;
+      function almostEqual(x, y) { return Math.abs(x - y) < epsilon; }
+    
+      function getBox(aId) {
+        return document.getElementById(aId).getBoundingClientRect();
+      }
+      
+      function doTest() {
+
+        /* inline style */
+        var ref = getBox("ref").height;
+
+        assert(almostEqual(getBox("d1").top - getBox("n1").bottom, ref * 20),
+               "Bad StackGapMin");
+                                                            
+        assert(almostEqual(getBox("ref").top - getBox("n2").top, ref*3),
+               "Bad StackTopShiftMin");
+
+        assert(almostEqual(getBox("d3").bottom - getBox("ref").bottom, ref*3),
+               "Bad StackBottomShiftDown");
+
+        /* display style */
+        ref = getBox("ref").height;
+
+        assert(almostEqual(getBox("d4").top - getBox("n4").bottom, ref * 20),
+               "Bad StackGapDisplayStyleMin");
+                                                            
+        assert(almostEqual(getBox("dref").top - getBox("n5").top, ref*3),
+               "Bad StackTopDisplayStyleShiftMin");
+
+        assert(almostEqual(getBox("d6").bottom - getBox("dref").bottom, ref*3),
+               "Bad StackDisplayStyleBottomShiftDown");
+
+        document.body.innerHTML = "Pass";
+        document.documentElement.removeAttribute("class");
+      }
+      window.addEventListener("MozReftestInvalidate", doTest, false);
+    </script>
+  </head>
+  <body>
+    <p>
+      <math>
+        <mspace id="ref" height="1em" width="1em" mathbackground="green"/>
+      </math>
+      <math style="font-family: stack-1;">
+        <mfrac linethickness="0">
+          <mspace id="n1" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d1" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math style="font-family: stack-2;">
+        <mfrac linethickness="0">
+          <mspace id="n2" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d2" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math style="font-family: stack-3;">
+        <mfrac linethickness="0">
+          <mspace id="n3" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d3" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+    </p>
+
+    <p>
+      <math displaystyle="true">
+        <mspace id="dref" height="1em" width="1em" mathbackground="green"/>
+      </math>
+      <math displaystyle="true" style="font-family: stack-4;">
+        <mfrac linethickness="0">
+          <mspace id="n4" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d4" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math displaystyle="true" style="font-family: stack-5;">
+        <mfrac linethickness="0">
+          <mspace id="n5" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d5" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+      <math displaystyle="true" style="font-family: stack-6;">
+        <mfrac linethickness="0">
+          <mspace id="n6" height="1em" width="1em" mathbackground="red"/>
+          <mspace id="d6" height="1em" width="1em" mathbackground="red"/>
+        </mfrac>
+      </math>
+    </p>
+
+  </body>
+</html>
diff --git a/layout/reftests/mathml/reftest.list b/layout/reftests/mathml/reftest.list
--- a/layout/reftests/mathml/reftest.list
+++ b/layout/reftests/mathml/reftest.list
@@ -145,16 +145,22 @@ skip-if(B2G) == maction-dynamic-1.html m
 == mo-invisibleoperators-2.html mo-invisibleoperators-2-ref.html
 skip-if(B2G) == maction-dynamic-3.html maction-dynamic-3-ref.html # bug 773482
 == whitespace-trim-1.html whitespace-trim-1-ref.html
 == whitespace-trim-2.html whitespace-trim-2-ref.html
 == whitespace-trim-3.html whitespace-trim-3-ref.html
 fails == whitespace-trim-4.html whitespace-trim-4-ref.html # Bug 787215
 == whitespace-trim-5.html whitespace-trim-5-ref.html
 == opentype-stretchy.html opentype-stretchy-ref.html
+== opentype-axis-height.html data:text/html,<body>Pass
+== opentype-radical.html data:text/html,<body>Pass
+== opentype-fraction.html data:text/html,<body>Pass
+== opentype-stack.html data:text/html,<body>Pass
+== opentype-scripts.html data:text/html,<body>Pass
+== opentype-limits.html data:text/html,<body>Pass
 == operator-1.xhtml operator-1-ref.xhtml
 == scriptshift-1.xhtml scriptshift-1-ref.xhtml
 == number-size-1.xhtml number-size-1-ref.xhtml
 fails-if(B2G) == multiscripts-1.html multiscripts-1-ref.html # B2G - slight height variation from font metrics
 == mathml-mmultiscript-base.html mathml-mmultiscript-base-ref.html
 == mathml-mmultiscript-mprescript.html mathml-mmultiscript-mprescript-ref.html
 != menclose-1a.html menclose-1-ref.html
 != menclose-1b.html menclose-1-ref.html
