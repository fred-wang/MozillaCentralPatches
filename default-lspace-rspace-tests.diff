# HG changeset patch
# Parent b6a68c056fc843e938b4c8d23c926856300ca81a
# User Frédéric Wang <fred.wang@free.fr>
Reftest for bug 662756. r=karlt

diff --git a/layout/reftests/mathml/mo-lspace-rspace-ref.html b/layout/reftests/mathml/mo-lspace-rspace-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/mathml/mo-lspace-rspace-ref.html
@@ -0,0 +1,43 @@
+<!-- -*- mode: HTML; tab-width: 2; indent-tabs-mode: nil; -*- -->
+<!-- vim: set tabstop=2 expandtab shiftwidth=2 textwidth=80:  -->
+<!DOCTYPE html>
+<html>
+  <head>
+    <title>mo-lspace-rspace</title>
+  </head>
+
+  <body>
+
+    <p>
+      <!-- not in the operator dictionary -->
+      <math>
+        <mtext>_</mtext>
+        <mspace width="thickmathspace" height="0" depth="0"></mspace>
+        <mtext>MO</mtext>
+        <mspace width="thickmathspace" height="0" depth="0"></mspace>
+        <mtext>_</mtext>
+      </math>
+    </p>
+
+    <p>
+      <!-- operator.\u223F.infix = lspace:3 rspace:3 # sine wave -->
+      <math>
+        <mtext>_</mtext>
+        <mspace width="thinmathspace" height="0" depth="0"></mspace>
+        <mtext>&#x0223F;</mtext>
+        <mspace width="thinmathspace" height="0" depth="0"></mspace>
+        <mtext>_</mtext>
+      </math>
+    </p>
+
+    <p>
+      <!-- Invisible operator -->
+      <math>
+        <mtext>_</mtext>
+        <mtext>&#x02061;</mtext>
+        <mtext>_</mtext>
+      </math>
+    </p>
+
+  </body>
+</html>
diff --git a/layout/reftests/mathml/mo-lspace-rspace.html b/layout/reftests/mathml/mo-lspace-rspace.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/mathml/mo-lspace-rspace.html
@@ -0,0 +1,39 @@
+<!-- -*- mode: HTML; tab-width: 2; indent-tabs-mode: nil; -*- -->
+<!-- vim: set tabstop=2 expandtab shiftwidth=2 textwidth=80:  -->
+<!DOCTYPE html>
+<html>
+  <head>
+    <title>mo-lspace-rspace</title>
+  </head>
+
+  <body>
+
+    <p>
+      <!-- not in the operator dictionary -->
+      <math>
+        <mtext>_</mtext>
+        <mo>MO</mo>
+        <mtext>_</mtext>
+      </math>
+    </p>
+
+    <p>
+      <!-- operator.\u223F.infix = lspace:3 rspace:3 # sine wave -->
+      <math>
+        <mtext>_</mtext>
+        <mo>&#x0223F;</mo>
+        <mtext>_</mtext>
+      </math>
+    </p>
+
+    <p>
+      <!-- Invisible operator -->
+      <math>
+        <mtext>_</mtext>
+        <mo>&#x02061;</mo>
+        <mtext>_</mtext>
+      </math>
+    </p>
+
+  </body>
+</html>
diff --git a/layout/reftests/mathml/reftest.list b/layout/reftests/mathml/reftest.list
--- a/layout/reftests/mathml/reftest.list
+++ b/layout/reftests/mathml/reftest.list
@@ -96,8 +96,9 @@ fails == mstyle-5.xhtml mstyle-5-ref.xht
 != link-1.xhtml link-ref.xhtml
 == munderover-empty-scripts.html munderover-empty-scripts-ref.html
 == positive-namedspace.html positive-namedspace-ref.html
 == mtable-width.html mtable-width-ref.html
 == maction-selection.html maction-selection-ref.html
 == maction-dynamic-embellished-op.html maction-dynamic-embellished-op-ref.html
 == maction-dynamic-1.html maction-dynamic-1-ref.html
 == maction-dynamic-2.html maction-dynamic-2-ref.html
+== mo-lspace-rspace.html mo-lspace-rspace-ref.html
